function CopyMonthAndYear(){var i=$("#ddlmonths :selected"),n=$("#ddlyears :selected"),t=i.val(),r=n.val();r!=0&&t!=0&&t.length<12&&(t==1?($("#MonthInStatBar").text(""),$("#YearInStatBar").text("Year - "+n.text())):($("#MonthInStatBar").text(i.text()),$("#YearInStatBar").text("- "+n.text())),$("#btnRefreshStats").trigger("click"))}function loadSideBarStatistics(n){ToggleSubModules(n);$("#lblModuleName").text(arguments[1]);$("#txtModuleNo").val(n);var t="#ModuleIcon_"+n,r=$(t).attr("class"),i="#divModuleColorPanel_"+n,u=$(i).attr("class");$("#ddlmonths").trigger("change")}function ToggleSubModules(n){CloseRemainingModules();$("#div_SubModules_"+n).slideToggle();$("#div_SubModules_"+n).addClass("DropDownModuleList");var t="#ToggleIcon_"+n,i=$(t).attr("class"),r=i=="fa fa-plus"?"fa fa-minus":"fa fa-plus";$(t).removeClass(i).addClass(r)}function CloseRemainingModules(){$(".btnModuleToggle > i[class='fa fa-minus']").removeClass("fa fa-minus").addClass("fa fa-plus");$(".DropDownModuleList").slideToggle();$(".DropDownModuleList").removeClass("DropDownModuleList")}function loadMenus(n,t,i){var u=[],o=$("#MenuEnabledList").val(),f,r,e;u=o.split(",");f=GetMenuDisabledDetails(n,u);f&&(r=[],e=$("#ForOTPString").val(),r=e.split(","),r.includes(n.toString())?$.ajax({url:"/Home/IsMobileNumberVerified",type:"GET",success:function(r){r.success==!0?$.ajax({type:"GET",url:"/Home/InputOTPFromUser",success:function(u){u.success?$.ajax({url:"/Home/LoadModal",type:"GET",success:function(r){$("#divOTPValidationModal").modal({backdrop:"static",keyboard:!1});$("#divOTPInput").show();$("#OTPID").focus();$("#divLoadOTPValidation").html(r);$("#divForMessageResend").show();$("#OTPValidationFormId").append('<input type="hidden" id="IsOTPSent" name="IsOTPSent" value="'+u.IsOTPSent+'"><input type="hidden" id="OTPTypeId" name="OTPTypeId" value="'+u.OTPTypeId+'"><input type="hidden" id="EncryptedUId" name="EncryptedUId" value="'+u.EncryptedUId+'">');$("#MobileNumbertoDisplayID").html(u.MobileNumberToDisplay);$("#divOTPValidationModal").modal("show");sessionStorage.setItem("menuId",n);sessionStorage.setItem("moduleId",t);sessionStorage.setItem("modulename",i);$("#CLPP").click(function(){$("#divOTPValidationModal").modal("hide")})},error:function(){bootbox.alert({message:'<i class="fa fa-exclamation-triangle text-danger boot-icon boot-icon"><\/i><span class="boot-alert-txt">Error occured while processing your request<\/span>',callback:function(){}})}}):r.message==undefined?bootbox.alert({message:'<i class="fa fa-exclamation-triangle text-danger boot-icon boot-icon"><\/i><span class="boot-alert-txt">Something went wrong while processing your request .<\/span>',callback:function(){window.location.href="/Error/SessionExpire"}}):bootbox.alert({message:'<i class="fa fa-exclamation-triangle text-danger boot-icon boot-icon"><\/i><span class="boot-alert-txt">'+r.message+"<\/span>",callback:function(){$("#divOTPValidationModal").modal("hide")}})},error:function(){bootbox.alert({message:'<i class="fa fa-exclamation-triangle text-danger boot-icon boot-icon"><\/i><span class="boot-alert-txt">Error occured while processing your request<\/span>',callback:function(){}})}}):bootbox.alert('<span class="boot-alert-txt"><i class="fa fa-exclamation-triangle text-danger boot-icon boot-icon"><\/i>Mobile Number not verified. Please verify it first.<\/span>')},error:function(n){alert(n)}}):(sessionStorage.setItem("IsValidated","0"),window.location.href="/Home/RedirectToMenuPage/"+n+"$"+t+"$"+i))}function CheckClientStatus(){$.ajax({url:"/Home/KeepSessionAlive?request="+request,cache:!1,type:"POST",dataType:"json",success:function(n){n.success&&(request++,setTimeout("CheckClientStatus()",3e3))},error:function(){console.log("Errror............!!!");$.unblockUI()}})}function ValidateOTP(){$.trim($("#OTPID").val())!=""&&$.ajax({url:"/Home/GetSessionSalt",type:"GET",async:!1,cache:!1,success:function(n){if(n.success&&n.dataMessage!=null){var t=n.dataMessage,i=hex_sha512($("#OTPID").val()),r=i+rstr2hex(t).toUpperCase(),u=hex_sha512(r);$("#OTPID").val(u);$.ajax({type:"POST",url:"/Home/ValidateOTP",headers:header,data:$("#OTPValidationFormId").serialize(),dataType:"json",success:function(n){if(n.success){bootbox.alert({message:'<i class="fa fa-check text-success boot-icon"><\/i><span class="boot-alert-txt">'+n.msg+"<\/span>",callback:function(){}});var t=sessionStorage.getItem("menuId"),i=sessionStorage.getItem("moduleId"),r=sessionStorage.getItem("modulename");sessionStorage.setItem("IsValidated","1");window.location.href="/Home/RedirectToMenuPage/"+t+"$"+i+"$"+r}else n.msg==undefined?bootbox.alert({message:'<i class="fa fa-exclamation-triangle text-danger boot-icon boot-icon"><\/i><span class="boot-alert-txt">Something went wrong while processing your request .<\/span>',callback:function(){window.location.href="/Error/SessionExpire";$.unblockUI()}}):bootbox.alert({message:'<i class="fa fa-exclamation-triangle text-danger boot-icon boot-icon"><\/i><span class="boot-alert-txt">'+n.msg+"<\/span>",callback:function(){$("#divOTPValidationModal").css("display","block");$("#OTPID").val("");$("#OTPID").focus()}})},error:function(){bootbox.alert({message:'<i class="fa fa-exclamation-triangle text-danger boot-icon boot-icon"><\/i><span class="boot-alert-txt">Error occured while processing your request<\/span>',callback:function(){$("#divOTPValidationModal").modal("show")}})}})}},error:function(){bootbox.alert({message:'<i class="fa fa-exclamation-triangle text-danger boot-icon boot-icon"><\/i><span class="boot-alert-txt">Error occured while processing your request<\/span>',callback:function(){}})}})}function BlockUI(){$.blockUI({css:{border:"none",padding:"15px",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px",opacity:.5,color:"#fff"}})}function GetMenuDisabledDetails(n,t){var i=!1;return t.includes(n.toString())?(BlockUI(),$.ajax({url:"/Home/GetMenuDisabledDetails",datatype:"json",type:"GET",async:!1,cache:!1,success:function(n){n.success==!1&&($.unblockUI(),bootbox.alert('<i class="fa fa-exclamation-triangle text-danger boot-icon boot-icon"><\/i><span class="boot-alert-txt">'+n.message+"<\/span>",function(){}),i=n.success);i=n.success},error:function(){$.unblockUI();i=!1}}),$.unblockUI()):i=!0,i}$(document).ready(function(){$(document).bind("contextmenu",function(n){n.preventDefault()});$(document).keydown(function(n){if(n.which===123)return!1});sessionStorage.setItem("IsValidated","0");IsMobileNumberVerfied==0&&(BlockUI(),bootbox.confirm({title:"<span class='boot-alert-title'><i class='fa fa-question-circle'><\/i>&nbsp;&nbsp;Confirm<\/span>",message:'<span class="boot-alert-txt">You have not verified your mobile number.<br />Do you want to verify it now?<\/span>',buttons:{cancel:{label:"No",className:"pull-right btn-default margin-left-NoBtn"},confirm:{label:"Yes"}},callback:function(n){n&&$.ajax({type:"GET",url:"/Alerts/SendSMSDetails/VerifyCaptchaForOTP",success:function(n){$("#divViewOTPValidationModal").modal({backdrop:"static",keyboard:!1});$("#divLoadOTPValidationView").html(n);$("#divViewOTPValidationModal").modal("show");$("#divCaptcha").show();$("#divOTPInput").hide();$("#btnCloseOTPModal").off("click").click(function(){$("#divViewOTPValidationModal").modal("hide")});$("#divOTPValidationModal").attr("style","display: none!important");$.unblockUI()},error:function(n){$.unblockUI();bootbox.alert("Error: "+n)}});$.unblockUI()}}));$("#lblModuleName").text(DefaultModuleName);$("#txtModuleNo").val(DefaultModuleID);loadSideBarStatistics(DefaultModuleID,DefaultModuleName);$("#btnRefreshStats").click(function(){$("#frmStatistics").valid()&&$.ajax({type:"POST",url:"/Home/GetHomePageSideBarStatistics",data:$("#frmStatistics").serialize(),success:function(n){$("#ULsubModuleStatsList").empty();var t="";$.each(n.subModuleList,function(){t+='<li><a href="#"><i class="fa fa-dot-circle-o"><\/i>&nbsp;&nbsp;'+this.SubModuleName+'<span class="pull-right badge bg-blue" style="min-width:40px;">'+this.Count+"<\/span><\/a><\/li>"});$("#ULsubModuleStatsList").append(t)},error:function(n,t,i){bootbox.alert("Error "+i)}})});$("#btnLoggOffID").click(function(){$.ajax({type:"Get",url:"/Login/Logout",success:function(n){n.success==!0&&(window.location.href=n.URL)},error:function(){bootbox.alert("error")}})});$(".DropDownInStats").change(function(){CopyMonthAndYear()});$("#ddlmonths").trigger("change")});var request=1;