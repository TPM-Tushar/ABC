function PopulateDetailsTable(n,t){$("#spnDetailTblHeader").html(t);PropertyTypeListID=$("#PropertyTypeListID option:selected").val();switch(PropertyTypeListID){case"1":GetValuationDiffForOpenBuiltRate(PropertyTypeListID,t,n);break;case"2":GetValuationDiffForAgriculture(PropertyTypeListID,t,n);break;case"3":GetValuationDiffForApartment(PropertyTypeListID,t,n);break;case"4":GetValuationDiffForApartment(PropertyTypeListID,t,n)}}function EXCELDownloadFun(n,t,i,r,u){window.location.href="/LogAnalysis/ValuationDifferenceReport/ExportValuationDiffRptToExcel?SROCode="+n+"&PropertyTypeID="+t+"&PropertyType="+i+"&SROName="+r+"&RegArticleIdArr="+u}function GetValuationDocumentPopup(n){$.ajax({type:"GET",url:"/LogAnalysis/ValuationDifferenceReport/GetValuationDocumentPopup",data:{EncryptedId:n},success:function(n){$("#divViewDocument").html(n);$("#divViewDocumentModal").modal("show");$.unblockUI()},error:function(){bootbox.alert("error");$.unblockUI()}})}function ShowBuildingMeasrDetails(n,t){$("#spn-mdl-Reg-dump-title").html("Registration Details for Registration number : <i>"+t+" <\/i>");$("#spn-mdl-Reg-dump-Text").html($("#spnTblBldng_"+n).html());$("#mdl-Reg-dump").modal("show")}function GetValuationDiffForOpenBuiltRate(n,t,i){var r,u,f;$("#spnDetailTblHeader").html(t);PropertyTypeName=$("#PropertyTypeListID option:selected").text();r=$("#ddRegArticleList").val().toString();$("#tblOpenBuiltRate").css("display","block");$("#tblAgriculture").css("display","none");$("#tblApartment").css("display","none");$("#EXCELSPANID").show();$("#divDetailsValReport").css("display","block");u=$("#tblOpenBuiltRate").DataTable({ajax:{url:"/LogAnalysis/ValuationDifferenceReport/GetValuationDiffDetailedData",type:"POST",headers:header,data:{PropertyTypeListID:n,SROCode:i,PropertyTypeName:PropertyTypeName,RegArticleIdArr:r,SROName:t},dataSrc:function(n){if(unBlockUI(),unBlockUI(),n.errorMessage!=null)bootbox.alert({message:'<i class="fa fa-exclamation-triangle text-danger boot-icon boot-icon"><\/i><span class="boot-alert-txt">'+n.errorMessage+"<\/span>",callback:function(){if(n.serverError!=undefined)window.location.href="/Home/HomePage";else{var t=$("#DtlsToggleIconSearchPara").attr("class");t=="fa fa-minus-square-o fa-pull-left fa-2x"&&$("#DtlsSearchParaListCollapse").trigger("click");$("#EXCELSPANID").html("");$("#tableValuationRptDetailsTable").html("")}}});else{var t=$("#DtlsToggleIconSearchPara").attr("class");t=="fa fa-plus-square-o fa-pull-left fa-2x"&&$("#DtlsSearchParaListCollapse").trigger("click")}return unBlockUI(),n.data},error:function(){unBlockUI();bootbox.alert({message:'<i class="fa fa-exclamation-triangle text-danger boot-icon boot-icon"><\/i><span class="boot-alert-txt">Error in Processing<\/span>',callback:function(){}})},beforeSend:function(){var n,t;return blockUI("Loading data please wait."),n=$("#tblOpenBuiltRate_filter input").val(),n!=""&&(t=/^[^<>]+$/,!t.test(n))?($("#tblOpenBuiltRate_filter input").prop("disabled",!0),bootbox.alert("Please enter valid Search String ",function(){u.search("").draw();$("#tblOpenBuiltRate_filter input").prop("disabled",!1)}),unBlockUI(),!1):void 0}},serverSide:!0,scrollX:!0,scrollY:"250px",scrollCollapse:!0,bPaginate:!0,bLengthChange:!0,bInfo:!0,info:!0,bFilter:!1,searching:!0,destroy:!0,columnDefs:[{orderable:!1,targets:[0]},{orderable:!1,targets:[1]},{orderable:!1,targets:[2]},{orderable:!1,targets:[3]},{orderable:!1,targets:[4]},{orderable:!1,targets:[5]},{orderable:!1,targets:[6]},{orderable:!1,targets:[7]},{orderable:!1,targets:[8]},{orderable:!1,targets:[9]},{orderable:!1,targets:[10]},{orderable:!1,targets:[11]},{orderable:!1,targets:[12]},{orderable:!1,targets:[13]}],columns:[{data:"RegistrationDate",searchable:!0,visible:!0,name:"RegistrationDate"},{data:"FinalRegistrationNumber",searchable:!0,visible:!0,name:"FinalRegistrationNumber"},{data:"NatureOfDocument",searchable:!0,visible:!0,name:"NatureOfDocument"},{data:"AreaName",searchable:!0,visible:!0,name:"AreaName"},{data:"GuidancePerSquareFeetRate",searchable:!0,visible:!0,name:"GuidancePerSquareFeetRate"},{data:"Measurement__Square_Feet_",searchable:!0,visible:!0,name:"Measurement__Square_Feet_"},{data:"Registered_Per_Square_Feet_Rate",searchable:!0,visible:!0,name:"Registered_Per_Square_Feet_Rate"},{data:"Registration_dump",searchable:!0,visible:!0,name:"Registration_dump"},{data:"Consideration",searchable:!0,visible:!0,name:"Consideration"},{data:"RegisteredGuidanceValue",searchable:!0,visible:!0,name:"RegisteredGuidanceValue"},{data:"PayableStampDuty",searchable:!0,visible:!0,name:"PayableStampDuty"},{data:"payableRegFee",searchable:!0,visible:!0,name:"payableRegFee"},{data:"PaidStampDuty",searchable:!0,visible:!0,name:"PaidStampDuty"},{data:"RegFeePaid",searchable:!0,visible:!0,name:"RegFeePaid"},{data:"StampDutyDifference",searchable:!0,visible:!0,name:"StampDutyDifference"},{data:"RegFeeDifference",searchable:!0,visible:!0,name:"RegFeeDifference"},{data:"TotalDifference",searchable:!0,visible:!0,name:"TotalDifference"},{data:"ClickToViewDocument",searchable:!0,visible:!0,name:"ClickToViewDocument"}],fnInitComplete:function(n,t){$("#EXCELSPANID").html(t.ExcelDownloadBtn)},preDrawCallback:function(){unBlockUI()},fnRowCallback:function(n){return unBlockUI(),n},drawCallback:function(){unBlockUI()}});f=$("#tblOpenBuiltRate").DataTable();f.columns.adjust().draw()}function GetValuationDiffForAgriculture(n,t,i){var r,u;$("#spnDetailTblHeader").html(t);n=$("#PropertyTypeListID option:selected").val();PropertyTypeName=$("#PropertyTypeListID option:selected").text();r=$("#ddRegArticleList").val().toString();$("#tblOpenBuiltRate").css("display","none");$("#tblAgriculture").css("display","block");$("#tblApartment").css("display","none");$("#EXCELSPANID").show();$("#divDetailsValReport").css("display","block");u=$("#tblAgriculture").DataTable({ajax:{url:"/LogAnalysis/ValuationDifferenceReport/GetValuationDiffDetailedData",type:"POST",headers:header,data:{PropertyTypeListID:n,SROCode:i,PropertyTypeName:PropertyTypeName,RegArticleIdArr:r,SROName:t},dataSrc:function(n){if(unBlockUI(),unBlockUI(),n.errorMessage!=null)bootbox.alert({message:'<i class="fa fa-exclamation-triangle text-danger boot-icon boot-icon"><\/i><span class="boot-alert-txt">'+n.errorMessage+"<\/span>",callback:function(){if(n.serverError!=undefined)window.location.href="/Home/HomePage";else{var t=$("#DtlsToggleIconSearchPara").attr("class");t=="fa fa-minus-square-o fa-pull-left fa-2x"&&$("#DtlsSearchParaListCollapse").trigger("click");$("#EXCELSPANID").html("");$("#tableValuationRptDetailsTable").html("")}}});else{var t=$("#DtlsToggleIconSearchPara").attr("class");t=="fa fa-plus-square-o fa-pull-left fa-2x"&&$("#DtlsSearchParaListCollapse").trigger("click")}return unBlockUI(),n.data},error:function(){unBlockUI();bootbox.alert({message:'<i class="fa fa-exclamation-triangle text-danger boot-icon boot-icon"><\/i><span class="boot-alert-txt">Error in Processing<\/span>',callback:function(){}})},beforeSend:function(){var n,t;return blockUI("Loading data please wait."),n=$("#tblAgriculture_filter input").val(),n!=""&&(t=/^[^<>]+$/,!t.test(n))?($("#tblAgriculture_filter input").prop("disabled",!0),bootbox.alert("Please enter valid Search String ",function(){u.search("").draw();$("#tblAgriculture_filter input").prop("disabled",!1)}),unBlockUI(),!1):void 0}},serverSide:!0,scrollX:!0,scrollY:"300px",scrollCollapse:!0,bPaginate:!0,bLengthChange:!0,bInfo:!0,info:!0,bFilter:!1,searching:!0,destroy:!0,bAutoWidth:!0,bScrollAutoCss:!0,columnDefs:[{orderable:!1,targets:[0]},{orderable:!1,targets:[1]},{orderable:!1,targets:[2]},{orderable:!1,targets:[3]},{orderable:!1,targets:[4]},{orderable:!1,targets:[5]},{orderable:!1,targets:[6]},{orderable:!1,targets:[7]},{orderable:!1,targets:[8]},{orderable:!1,targets:[9]},{orderable:!1,targets:[10]},{orderable:!1,targets:[11]},{orderable:!1,targets:[12]},{orderable:!1,targets:[13]}],columns:[{data:"RegistrationDate",searchable:!0,visible:!0,name:"RegistrationDate"},{data:"FinalRegistrationNumber",searchable:!0,visible:!0,name:"FinalRegistrationNumber"},{data:"NatureOfDocument",searchable:!0,visible:!0,name:"NatureOfDocument"},{data:"AreaName",searchable:!0,visible:!0,name:"AreaName"},{data:"GuidancePerSquareFeetRate",searchable:!0,visible:!0,name:"GuidancePerSquareFeetRate"},{data:"Measurement__Guntas",searchable:!0,visible:!0,name:"Measurement__Guntas"},{data:"Registered_Per_Gunta_Rate",searchable:!0,visible:!0,name:"Registered_Per_Gunta_Rate"},{data:"Consideration",searchable:!0,visible:!0,name:"Consideration"},{data:"PaidStampDuty",searchable:!0,visible:!0,name:"PaidStampDuty"},{data:"RegFeePaid",searchable:!0,visible:!0,name:"RegFeePaid"},{data:"RegisteredGuidanceValue",searchable:!0,visible:!0,name:"RegisteredGuidanceValue"},{data:"PayableStampDuty",searchable:!0,visible:!0,name:"PayableStampDuty"},{data:"StampDutyDifference",searchable:!0,visible:!0,name:"StampDutyDifference"},{data:"payableRegFee",searchable:!0,visible:!0,name:"payableRegFee"},{data:"RegFeeDifference",searchable:!0,visible:!0,name:"RegFeeDifference"},{data:"TotalDifference",searchable:!0,visible:!0,name:"TotalDifference"},{data:"ClickToViewDocument",searchable:!0,visible:!0,name:"ClickToViewDocument"}],fnInitComplete:function(n,t){$("#EXCELSPANID").html(t.ExcelDownloadBtn)},preDrawCallback:function(){unBlockUI()},fnRowCallback:function(n){return unBlockUI(),n},drawCallback:function(){unBlockUI()}})}function GetValuationDiffForApartment(n,t,i){var r,u;$("#spnDetailTblHeader").html(t);n=$("#PropertyTypeListID option:selected").val();PropertyTypeName=$("#PropertyTypeListID option:selected").text();r=$("#ddRegArticleList").val().toString();$("#tblOpenBuiltRate").css("display","none");$("#tblAgriculture").css("display","none");$("#tblApartment").css("display","block");$("#EXCELSPANID").show();$("#divDetailsValReport").css("display","block");u=$("#tblApartment").DataTable({ajax:{url:"/LogAnalysis/ValuationDifferenceReport/GetValuationDiffDetailedData",type:"POST",headers:header,data:{PropertyTypeListID:n,SROCode:i,PropertyTypeName:PropertyTypeName,RegArticleIdArr:r,SROName:t},dataSrc:function(n){if(unBlockUI(),unBlockUI(),n.errorMessage!=null)bootbox.alert({message:'<i class="fa fa-exclamation-triangle text-danger boot-icon boot-icon"><\/i><span class="boot-alert-txt">'+n.errorMessage+"<\/span>",callback:function(){if(n.serverError!=undefined)window.location.href="/Home/HomePage";else{var t=$("#DtlsToggleIconSearchPara").attr("class");t=="fa fa-minus-square-o fa-pull-left fa-2x"&&$("#DtlsSearchParaListCollapse").trigger("click");$("#EXCELSPANID").html("");$("#tableValuationRptDetailsTable").html("")}}});else{var t=$("#DtlsToggleIconSearchPara").attr("class");t=="fa fa-plus-square-o fa-pull-left fa-2x"&&$("#DtlsSearchParaListCollapse").trigger("click")}return unBlockUI(),n.data},error:function(){unBlockUI();bootbox.alert({message:'<i class="fa fa-exclamation-triangle text-danger boot-icon boot-icon"><\/i><span class="boot-alert-txt">Error in Processing<\/span>',callback:function(){}})},beforeSend:function(){var n,t;return blockUI("Loading data please wait."),n=$("#tblApartment_filter input").val(),n!=""&&(t=/^[^<>]+$/,!t.test(n))?($("#tblApartment_filter input").prop("disabled",!0),bootbox.alert("Please enter valid Search String ",function(){u.search("").draw();$("#tblApartment_filter input").prop("disabled",!1)}),unBlockUI(),!1):void 0}},serverSide:!0,scrollX:!0,scrollY:"300px",scrollCollapse:!0,bPaginate:!0,bLengthChange:!0,bInfo:!0,info:!0,bFilter:!1,searching:!0,destroy:!0,bAutoWidth:!0,bScrollAutoCss:!0,columnDefs:[{orderable:!1,targets:[0]},{orderable:!1,targets:[1]},{orderable:!1,targets:[2]},{orderable:!1,targets:[3]},{orderable:!1,targets:[4]},{orderable:!1,targets:[5]},{orderable:!1,targets:[6]},{orderable:!1,targets:[7]},{orderable:!1,targets:[8]},{orderable:!1,targets:[9]},{orderable:!1,targets:[10]},{orderable:!1,targets:[11]},{orderable:!1,targets:[12]},{orderable:!1,targets:[13]}],columns:[{data:"RegistrationDate",searchable:!0,visible:!0,name:"RegistrationDate"},{data:"FinalRegistrationNumber",searchable:!0,visible:!0,name:"FinalRegistrationNumber"},{data:"NatureOfDocument",searchable:!0,visible:!0,name:"NatureOfDocument"},{data:"Consideration",searchable:!0,visible:!0,name:"Consideration"},{data:"AreaName",searchable:!0,visible:!0,name:"AreaName"},{data:"Apartment_Name",searchable:!0,visible:!0,name:"Apartment_Name"},{data:"Super_Builtup_Area_shown_in_Document",searchable:!0,visible:!0,name:"Super_Builtup_Area_shown_in_Document"},{data:"Rate_as_per_G_V_notification_01_01_2019",searchable:!0,visible:!0,name:"Rate_as_per_G_V_notification_01_01_2019"},{data:"Total_Value_on_Super_Builtup_Area",searchable:!0,visible:!0,name:"Total_Value_on_Super_Builtup_Area"},{data:"PayableStampDuty",searchable:!0,visible:!0,name:"PayableStampDuty"},{data:"payableRegFee",searchable:!0,visible:!0,name:"payableRegFee"},{data:"TotalPayable",searchable:!0,visible:!0,name:"TotalPayable"},{data:"Market_Value_calculated_as_per_document_at_the_time_of_Registration",searchable:!0,visible:!0,name:"Market_Value_calculated_as_per_document_at_the_time_of_Registration"},{data:"PaidStampDuty",searchable:!0,visible:!0,name:"PaidStampDuty"},{data:"RegFeePaid",searchable:!0,visible:!0,name:"RegFeePaid"},{data:"TotalPaid",searchable:!0,visible:!0,name:"TotalPaid"},{data:"Difference_between_the_Two",searchable:!0,visible:!0,name:"Difference_between_the_Two"},{data:"ClickToViewDocument",searchable:!0,visible:!0,name:"ClickToViewDocument"}],fnInitComplete:function(n,t){$("#EXCELSPANID").html(t.ExcelDownloadBtn)},preDrawCallback:function(){unBlockUI()},fnRowCallback:function(n){return unBlockUI(),n},drawCallback:function(){unBlockUI()}})}function DownloadEXCELSummary(n,t){window.location.href="/LogAnalysis/ValuationDifferenceReport/ExportValuationDiffSummaryToExcel?RegArticleIdArr="+n+"&PropertyTypeListID="+t+"&PropertyTypeName="+PropertyTypeName}var FromDate,ToDate,SROOfficeListID,token="",PropertyTypeListID,header={},PropertyTypeName;$(document).ready(function(){token=$("[name=__RequestVerificationToken]").val();header.__RequestVerificationToken=token;$("#PropertyTypeListID").change(function(){$("#tableValuationRptTableID").DataTable().clear().destroy();$("#SummaryBtnSpanID").hide();$("#TblPanelID").css("display","none");$("#EXCELSPANID").hide();$("#spnDetailTblHeader").html("");$(".dt-tableClass").DataTable().clear().destroy();$(".dt-tableClass").css("display","none");var n=$(this).val();n==3&&($("#spn-Aprtmnt-DutyLabel").text("Duty Payable @ 5.6% as conveyance"),$("#spn-Aprtmnt-DutyPaidLabel").text("Stamp Duty Payable @ 5.6%"));n==4&&($("#spn-Aprtmnt-DutyLabel").text("Duty Payable @ 5.65% as conveyance"),$("#spn-Aprtmnt-DutyPaidLabel").text("Stamp Duty Payable @ 5.65%"))});$(".AllowOnlyNumber").keypress(function(n){if(n.which!=8&&n.which!=0&&(n.which<48||n.which>57))return!1});$("#DtlsSearchParaListCollapse").click(function(){var n=$("#DtlsToggleIconSearchPara").attr("class"),t=n=="fa fa-plus-square-o fa-pull-left fa-2x"?"fa fa-minus-square-o fa-pull-left fa-2x":"fa fa-plus-square-o fa-pull-left fa-2x";$("#DtlsToggleIconSearchPara").removeClass(n).addClass(t)});$("#SearchBtn").click(function(){var n,t;$("#SummaryBtnSpanID").show();PropertyTypeListID=$("#PropertyTypeListID option:selected").val();PropertyTypeName=$("#PropertyTypeListID option:selected").text();n=$("#ddRegArticleList").val().toString();$("#TblPanelID").css("display","block");$("#tableValRptDetailsTableID").hide();t=$("#tableValuationRptTableID").DataTable({ajax:{url:"/LogAnalysis/ValuationDifferenceReport/GetValuationDiffRptData",type:"POST",headers:header,data:{RegArticleIdArr:n,PropertyTypeListID:PropertyTypeListID},dataSrc:function(n){if(unBlockUI(),unBlockUI(),n.errorMessage!=null)bootbox.alert({message:'<i class="fa fa-exclamation-triangle text-danger boot-icon boot-icon"><\/i><span class="boot-alert-txt">'+n.errorMessage+"<\/span>",callback:function(){if(n.serverError!=undefined)window.location.href="/Home/HomePage";else{var t=$("#DtlsToggleIconSearchPara").attr("class");t=="fa fa-minus-square-o fa-pull-left fa-2x"&&$("#DtlsSearchParaListCollapse").trigger("click");$("#tableValuationRptTableID").DataTable().clear().destroy();$("#EXCELSPANID").html("");$("#jurisdictionalSummaryTableID").html("")}}});else{var t=$("#DtlsToggleIconSearchPara").attr("class");t=="fa fa-plus-square-o fa-pull-left fa-2x"&&$("#DtlsSearchParaListCollapse").trigger("click")}return unBlockUI(),n.data},error:function(){unBlockUI();bootbox.alert({message:'<i class="fa fa-exclamation-triangle text-danger boot-icon boot-icon"><\/i><span class="boot-alert-txt">Error in Processing<\/span>',callback:function(){}})},beforeSend:function(){var n,i;return blockUI("Loading data please wait."),n=$("#tableValuationRptTableID_filter input").val(),n!=""&&(i=/^[^<>]+$/,!i.test(n))?($("#tableValuationRptTableID_filter input").prop("disabled",!0),bootbox.alert("Please enter valid Search String ",function(){t.search("").draw();$("#tableValuationRptTableID_filter input").prop("disabled",!1)}),unBlockUI(),!1):void 0}},serverSide:!0,scrollX:!1,scrollY:"300px",scrollCollapse:!0,bPaginate:!1,bLengthChange:!0,bInfo:!0,info:!0,bFilter:!1,searching:!0,destroy:!0,bAutoWidth:!0,bScrollAutoCss:!0,lengthMenu:[[350],["All"]],bScrollAutoCss:!0,columnDefs:[{orderable:!1,targets:[0]},{orderable:!1,targets:[1]},{orderable:!1,targets:[2]},{orderable:!1,targets:[3]},{orderable:!1,targets:[4]},{orderable:!1,targets:[5]},],columns:[{data:"SerialNo",searchable:!0,visible:!0,name:"SerialNo"},{data:"SROName",searchable:!0,visible:!0,name:"SROName"},{data:"TansactionsDone",searchable:!0,visible:!0,name:"TansactionsDone"},{data:"StampDutyRecovery",searchable:!0,visible:!0,name:"StampDutyRecovery"},{data:"Registration_Fees_Recovery__Probable_",searchable:!0,visible:!0,name:"Registration_Fees_Recovery__Probable_"},{data:"Total",searchable:!0,visible:!0,name:"Total"}],fnInitComplete:function(n,t){$("#SummaryBtnSpanID").html(t.ExcelDownloadBtn)},preDrawCallback:function(){unBlockUI()},fnRowCallback:function(n){return unBlockUI(),n},drawCallback:function(){unBlockUI()}})});$("#mdl-Reg-dump").on("hidden.bs.modal",function(){$("#spn-mdl-Reg-dump-Text").html("")});$("#ddRegArticleList").multiselect({includeSelectAllOption:!0,onSelectAll:function(){alert("select-all-nonreq")},maxHeight:400,nonSelectedText:"Choose...",onDeselectAll:function(){alert("deselect-all-nonreq")}});$(".multiselect").addClass("minimal");$(".multiselect").addClass("btn-sm")});