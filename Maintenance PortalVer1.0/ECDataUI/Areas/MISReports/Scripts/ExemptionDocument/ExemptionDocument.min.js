function PDFDownloadFun(n,t,i){window.location.href="/MISReports/ExemptionDocument/ExemptionDocumentToPDF?FromDate="+n+"&ToDate="+t+"&SROOfficeListID="+i+"&MaxDate="+MaxDate}function EXCELDownloadFun(n,t,i){window.location.href="/MISReports/ExemptionDocument/ExportExemptionDocumentToExcel?FromDate="+n+"&ToDate="+t+"&SROOfficeListID="+i+"&MaxDate="+MaxDate}var FromDate,ToDate,SROOfficeListID,token="",header={};$(document).ready(function(){token=$("[name=__RequestVerificationToken]").val();header.__RequestVerificationToken=token;$("#SROOfficeListID").focus();$(".AllowOnlyNumber").keypress(function(n){if(n.which!=8&&n.which!=0&&(n.which<48||n.which>57))return!1});$("#txtFromDate").datepicker({autoclose:!0,format:"dd/mm/yyyy",endDate:"+0d",maxDate:"0",pickerPosition:"bottom-left"});$("#txtToDate").datepicker({autoclose:!0,format:"dd/mm/yyyy",endDate:"+0d",maxDate:"0",pickerPosition:"bottom-left"});$("#divFromDate").datepicker({autoclose:!0,format:"dd/mm/yyyy",endDate:"+0d",maxDate:new Date,pickerPosition:"bottom-left"});$("#divToDate").datepicker({autoclose:!0,format:"dd/mm/yyyy",endDate:"+0d",maxDate:new Date,pickerPosition:"bottom-left"});$("#txtToDate").datepicker({format:"dd/mm/yyyy"}).datepicker("setDate",ToDate);$("#txtFromDate").datepicker({format:"dd/mm/yyyy",changeMonth:!0,changeYear:!0}).datepicker("setDate",FromDate);$("#DtlsSearchParaListCollapse").click(function(){var n=$("#DtlsToggleIconSearchPara").attr("class"),t=n=="fa fa-plus-square-o fa-pull-left fa-2x"?"fa fa-minus-square-o fa-pull-left fa-2x":"fa fa-plus-square-o fa-pull-left fa-2x";$("#DtlsToggleIconSearchPara").removeClass(n).addClass(t)});$("#SearchBtn").click(function(){$.fn.DataTable.isDataTable("#jurisdictionalDetailsID")&&$("#jurisdictionalDetailsID").DataTable().clear().destroy();FromDate=$("#txtFromDate").val();ToDate=$("#txtToDate").val();SROOfficeListID=$("#SROOfficeListID option:selected").val();$.fn.DataTable.isDataTable("#jurisdictionalDetailsID")&&$("#jurisdictionalDetailsID").DataTable().clear().destroy();var n=$("#jurisdictionalDetailsID").DataTable({ajax:{url:"/MISReports/ExemptionDocument/ExemptionDocumentDetail",type:"POST",headers:header,data:{fromDate:FromDate,ToDate:ToDate,SROOfficeListID:SROOfficeListID},dataSrc:function(n){if(unBlockUI(),unBlockUI(),n.errorMessage!=null)bootbox.alert({message:'<i class="fa fa-exclamation-triangle text-danger boot-icon boot-icon"><\/i><span class="boot-alert-txt">'+n.errorMessage+"<\/span>",callback:function(){if(n.serverError!=undefined)window.location.href="/Home/HomePage";else{var t=$("#DtlsToggleIconSearchPara").attr("class");t=="fa fa-minus-square-o fa-pull-left fa-2x"&&$("#DtlsSearchParaListCollapse").trigger("click");$("#jurisdictionalDetailsID").DataTable().clear().destroy();$("#PDFSPANID").html("");$("#EXCELSPANID").html("");$("#jurisdictionalSummaryTableID").html("")}}});else{var t=$("#DtlsToggleIconSearchPara").attr("class");t=="fa fa-plus-square-o fa-pull-left fa-2x"&&$("#DtlsSearchParaListCollapse").trigger("click")}return unBlockUI(),n.data},error:function(){unBlockUI();bootbox.alert({message:'<i class="fa fa-exclamation-triangle text-danger boot-icon boot-icon"><\/i><span class="boot-alert-txt">Error in Processing<\/span>',callback:function(){}})},beforeSend:function(){var t,i;return blockUI("Loading data please wait."),t=$("#jurisdictionalDetailsID_filter input").val(),t!=""&&(i=/^[^<>]+$/,!i.test(t))?($("#jurisdictionalDetailsID_filter input").prop("disabled",!0),bootbox.alert("Please enter valid Search String ",function(){n.search("").draw();$("#jurisdictionalDetailsID_filter input").prop("disabled",!1)}),unBlockUI(),!1):void 0}},serverSide:!0,scrollX:!0,scrollY:"300px",scrollCollapse:!0,bPaginate:!0,bLengthChange:!0,bInfo:!0,info:!0,bFilter:!1,searching:!0,destroy:!0,bAutoWidth:!0,bScrollAutoCss:!0,columnDefs:[{orderable:!1,targets:[0]},{orderable:!1,targets:[1]},{orderable:!1,targets:[2]},{orderable:!1,targets:[3]},{orderable:!1,targets:[4]},{orderable:!1,targets:[5]},{orderable:!1,targets:[6]},{orderable:!1,targets:[7]},],columns:[{data:"SerialNo",searchable:!0,visible:!0,name:"SerialNo"},{data:"SROName",searchable:!0,visible:!0,name:"SROName"},{data:"FinalRegistrationNumber",searchable:!0,visible:!0,name:"FinalRegistrationNumber"},{data:"STAMPDUTY_BEFORE_EXEMPTION",searchable:!0,visible:!0,name:"STAMPDUTY_BEFORE_EXEMPTION"},{data:"EXEMPTION_GIVEN",searchable:!0,visible:!0,name:"EXEMPTION_GIVEN"},{data:"STAMPDUTY_AFTER_EXEMPTION",searchable:!0,visible:!0,name:"STAMPDUTY_AFTER_EXEMPTION"},{data:"RegistrationFees",searchable:!0,visible:!0,name:"RegistrationFees"},{data:"Total",searchable:!0,visible:!0,name:"Total"}],fnInitComplete:function(n,t){$("#PDFSPANID").html(t.PDFDownloadBtn);$("#EXCELSPANID").html(t.ExcelDownloadBtn)},preDrawCallback:function(){unBlockUI()},fnRowCallback:function(n){return unBlockUI(),n},drawCallback:function(){unBlockUI()}})})});