function PDFDownloadFun(){window.location.href="/MISReports/TodaysDocumentsRegistered/ExportTodaysTotalDocsRegReportToPDF?SROOfficeListID="+SROOfficeListID+"&DROOfficeListID="+DROOfficeListID+"&Date="+Stamp5Date+"&ToDate="+ToDate+"&MaxDate="+MaxDate}function EXCELDownloadFun(){window.location.href="/MISReports/TodaysDocumentsRegistered/ExportTodaysDocumentsRegisteredReportToExcel?SROOfficeListID="+SROOfficeListID+"&DROOfficeListID="+DROOfficeListID+"&Date="+Stamp5Date+"&ToDate="+ToDate+"&MaxDate="+MaxDate+"&DocTypeID="+DocTypeID+"&DocTypeText="+DocTypeText+"&SpecialSP="+SpecialSP}function MergeGridCells(){var u=$("#ToDaysDocsRegdDataTable tr:first th").length,n=null,t=null,i=1,r=0;$("#ToDaysDocsRegdDataTable").find("tr").each(function(){var u=$(this).find("td:nth-child(2)"),f=$(this).find("td:nth-child(1)");n==null?(n=u,t=f,t.text=r++):u.text()==n.text()?(u.remove(),f.remove(),++i,n.attr("rowspan",i),t.attr("rowspan",i)):(n=u,t=f,f.html(r++),i=1)})}var token="",header={},SROOfficeListID,DROOfficeListID,Stamp5Date,ToDate,SpecialSP,DocTypeID,DocTypeText;$(document).ready(function(){$("#txtStamp5DateID").change(function(){$("#ToDateID").datepicker({format:"dd/mm/yyyy",changeMonth:!0,changeYear:!0}).datepicker("setDate",$("#txtStamp5DateID").val())});token=$("[name=__RequestVerificationToken]").val();header.__RequestVerificationToken=token;$("#DROOfficeListID").focus();$("#RegDate").Text="asgdsg";var n=new Date,t=n.getMonth()+1,i=n.getDate(),r=((""+i).length<2?"0":"")+i+"/"+((""+t).length<2?"0":"")+t+"/"+n.getFullYear();$("#txtStamp5DateID").datepicker({autoclose:!0,format:"dd/mm/yyyy",endDate:"+0d",maxDate:"0",pickerPosition:"bottom-left"});$("#divStamp5Date").datepicker({autoclose:!0,format:"dd/mm/yyyy",endDate:"+0d",maxDate:"0",pickerPosition:"bottom-left"});$("#divToDate").datepicker({autoclose:!0,format:"dd/mm/yyyy",endDate:"+0d",maxDate:"0",pickerPosition:"bottom-left"});$("#txtStamp5DateID").datepicker({format:"dd/mm/yyyy",changeMonth:!0,changeYear:!0}).datepicker("setDate",FromDate);$("#ToDateID").datepicker({autoclose:!0,format:"dd/mm/yyyy",endDate:"+0d",maxDate:"0",pickerPosition:"bottom-left"});$("#ToDateID").datepicker({format:"dd/mm/yyyy",changeMonth:!0,changeYear:!0}).datepicker("setDate",ToDate);$("#DROOfficeListID").change(function(){blockUI("Loading data please wait.");$.ajax({url:"/MISReports/TodaysDocumentsRegistered/GetSROOfficeListByDistrictID",data:{DistrictID:$("#DROOfficeListID").val()},datatype:"json",type:"GET",success:function(n){n.serverError==!0?bootbox.alert('<i class="fa fa-exclamation-triangle text-danger boot-icon boot-icon"><\/i><span class="boot-alert-txt">'+n.errorMessage+"<\/span>",function(){window.location.href="/Home/HomePage"}):($("#SROOfficeListID").empty(),$.each(n.SROOfficeList,function(n,t){t;$("#SROOfficeListID").append('<option value="'+t.Value+'">'+t.Text+"<\/option>")}));unBlockUI()},error:function(){unBlockUI()}})});$("#DtlsSearchParaListCollapse").click(function(){var n=$("#DtlsToggleIconSearchPara").attr("class"),t=n=="fa fa-plus-square-o fa-pull-left fa-2x"?"fa fa-minus-square-o fa-pull-left fa-2x":"fa fa-plus-square-o fa-pull-left fa-2x";$("#DtlsToggleIconSearchPara").removeClass(n).addClass(t)});$("#SearchBtn").click(function(){var n,t;blockUI("loading data.. please wait...");SpecialSP=$("#SpecialSP").is(":checked")?"true":"false";SROOfficeListID=$("#SROOfficeListID option:selected").val();DROOfficeListID=$("#DROOfficeListID option:selected").val();Stamp5Date=$("#txtStamp5DateID").val();DocTypeID=$("#DocTypeID option:selected").val();DocTypeText=$("#DocTypeID option:selected").text();n=$("#DocTypeID option:selected").text();$("#InnerDocTypeDivID").html(n);DocTypeID=="1"?$("#ReportInfoID").show():$("#ReportInfoID").hide();ToDate=$("#ToDateID").val();Stamp5Date==""?bootbox.alert('<i class="fa fa-exclamation-triangle text-danger boot-icon boot-icon"><\/i><span class="boot-alert-txt">Please select From Date.<\/span>'):ToDate==""?bootbox.alert('<i class="fa fa-exclamation-triangle text-danger boot-icon boot-icon"><\/i><span class="boot-alert-txt">Please select To Date.<\/span>'):$("#DROOfficeListID").val()<"0"?bootbox.alert('<i class="fa fa-exclamation-triangle text-danger boot-icon boot-icon"><\/i><span class="boot-alert-txt">Please select valid District.<\/span>'):$("#SROOfficeListID").val()<"0"?bootbox.alert('<i class="fa fa-exclamation-triangle text-danger boot-icon boot-icon"><\/i><span class="boot-alert-txt">Please select valid SRO<\/span>'):$.ajax({url:"/MISReports/TodaysDocumentsRegistered/GetTodaysTotalDocumentsRegisteredSummary",data:{FromDate:Stamp5Date,ToDate:ToDate,SroID:SROOfficeListID,DistrictID:DROOfficeListID,DocTypeID:DocTypeID,SpecialSP:SpecialSP},datatype:"json",headers:header,type:"POST",success:function(n){if(n.errorMessage==undefined){$("#SummaryTableID").html("");$("#SummaryTableID").html(n);$("#DocTypeID").val()==4?$("#DROfficeWiseSummaryTableID tr").eq(0).find("th").eq(2).html("Total Other ( in Rs. )"):$("#DROfficeWiseSummaryTableID tr").eq(0).find("th").eq(2).html("Total Stamp Duty ( in Rs. )");var t=$("#ToDaysDocsRegdDataTable").DataTable({ajax:{url:"/MISReports/TodaysDocumentsRegistered/GetTodaysTotalDocumentsRegisteredDetails",type:"POST",headers:header,data:{FromDate:Stamp5Date,ToDate:ToDate,SroID:SROOfficeListID,DistrictID:DROOfficeListID,DocTypeID:DocTypeID,SpecialSP:SpecialSP},dataSrc:function(n){if(unBlockUI(),n.errorMessage!=null)bootbox.alert({message:'<i class="fa fa-exclamation-triangle text-danger boot-icon boot-icon"><\/i><span class="boot-alert-txt">'+n.errorMessage+"<\/span>",callback:function(){if(n.serverError!=undefined)window.location.href="/Home/HomePage";else{var t=$("#DtlsToggleIconSearchPara").attr("class");t=="fa fa-minus-square-o fa-pull-left fa-2x"&&$("#DtlsSearchParaListCollapse").trigger("click");$("#ToDaysDocsRegdDataTable").DataTable().clear().destroy();$("#PDFSPANID").html("");$("#EXCELSPANID").html("")}}});else{var t=$("#DtlsToggleIconSearchPara").attr("class");t=="fa fa-plus-square-o fa-pull-left fa-2x"&&$("#DtlsSearchParaListCollapse").trigger("click")}return unBlockUI(),n.data},error:function(){bootbox.alert({message:'<i class="fa fa-exclamation-triangle text-danger boot-icon boot-icon"><\/i><span class="boot-alert-txt">Error in Processing<\/span>',callback:function(){}});unBlockUI()},beforeSend:function(){var n,i;return blockUI("loading data.. please wait..."),n=$("#ToDaysDocsRegdDataTable_filter input").val(),n!=""&&(i=/^[^<>]+$/,!i.test(n))?($("#ToDaysDocsRegdDataTable_filter input").prop("disabled",!0),bootbox.alert("Please enter valid Search String ",function(){t.search("").draw();$("#ToDaysDocsRegdDataTable_filter input").prop("disabled",!1)}),unBlockUI(),!1):void 0}},serverSide:!0,scrollY:"300px",scrollCollapse:!0,bPaginate:!0,bLengthChange:!0,bInfo:!0,info:!0,bFilter:!1,searching:!0,destroy:!0,bAutoWidth:!0,bScrollAutoCss:!0,lengthMenu:[[10,25,50,350],[10,25,50,"All"]],pageLength:350,bSort:!0,columnDefs:[{orderable:!1,targets:[0]}],columns:[{data:"SRNo",searchable:!0,visible:!0,name:"SRNo"},{data:"District",searchable:!0,visible:!0,name:"District"},{data:"SROName",searchable:!0,visible:!0,name:"SROName"},{data:"Documents",searchable:!0,visible:!0,name:"Documents"},{data:"RegistrationFee",searchable:!0,visible:!0,name:"RegistrationFee"},{data:"StampDuty",searchable:!0,visible:!0,name:"StampDuty"},{data:"Total",searchable:!0,visible:!0,name:"Total"}],fnInitComplete:function(n,t){$("#PDFSPANID").html(t.PDFDownloadBtn);$("#EXCELSPANID").html(t.ExcelDownloadBtn);$("#NoteSpanID").html(t.ReportInfo)},preDrawCallback:function(){unBlockUI()},fnRowCallback:function(n){return unBlockUI(),n},drawCallback:function(){unBlockUI();MergeGridCells()}});$("#DocTypeID").val()==4?($(t.column(5).header()).html("Others ( in Rs.)"),t.columns([2]).visible(!1),t.columns([5]).visible(!1)):($(t.column(5).header()).html("Stamp Duty ( in Rs.)"),t.columns([2]).visible(!0),t.columns([5]).visible(!0))}else bootbox.alert({message:'<i class="fa fa-exclamation-triangle text-danger boot-icon boot-icon"><\/i><span class="boot-alert-txt">'+n.errorMessage+"<\/span>",callback:function(){}}),unBlockUI()},error:function(){bootbox.alert({message:'<i class="fa fa-exclamation-triangle text-danger boot-icon boot-icon"><\/i><span class="boot-alert-txt">Error in Processing<\/span>',callback:function(){}});unBlockUI()}});t=$("#DtlsToggleIconSearchPara").attr("class");t=="fa fa-plus-square-o fa-pull-left fa-2x"&&$("#DtlsSearchParaListCollapse").trigger("click")});$("#DocTypeID").change(function(){$("#DocTypeID").val()==4?($("#SROOfficeListID").val(0),$("#SROOfficeListID").attr("disabled","disabled"),$("#divSpecialSP").hide()):($("#SROOfficeListID").removeAttr("disabled"),$("#divSpecialSP").show())})});