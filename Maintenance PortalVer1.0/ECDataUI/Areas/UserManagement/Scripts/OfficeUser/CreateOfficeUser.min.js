function isEmailAddress(n){return/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(n)}var token="",header={};$(document).ready(function(){vIsForUpdate==0&&($("#OfficeNamesDropDownId").prop("disabled",!0),$("#RoleDropDownListId").prop("disabled",!0));token=$("[name=__RequestVerificationToken]").val();header.__RequestVerificationToken=token;vIsForUpdate==1&&$("#txtUserName").prop("readonly",!0);$("#CloseOfficeUserForm").click(function(){window.location.href="/UserManagement/OfficeUserDetails/ViewOfficeUserDetails"});$("#btnCancel").click(function(){window.location.href="/UserManagement/OfficeUserDetails/ViewOfficeUserDetails"});$("#btnUpdate").click(function(){var n=$("#RegistrationOfficeUserFormId");if(n.removeData("validator"),n.removeData("unobtrusiveValidation"),$.validator.unobtrusive.parse(n),$("#RegistrationOfficeUserFormId").valid())$("#OfficeNamesDropDownId").val()=="0"?bootbox.alert("Please Select Office"):$("#LevelDropDownListId").val()=="0"?bootbox.alert("Please Select Level"):$("#RoleDropDownListId").val()=="0"?bootbox.alert("Please Select Role"):bootbox.confirm({title:"<span class='boot-alert-title'><i class='fa fa-question-circle'><\/i>&nbsp;&nbsp;Confirm<\/span>",message:"<span class='boot-alert-txt'>Are you sure you want to update?<\/span>",buttons:{cancel:{label:'<i class="fa fa-times"><\/i> No',className:"pull-right margin-left-NoBtn"},confirm:{label:'<i class="fa fa-check"><\/i> Yes'}},callback:function(n){n&&(BlockUI(),$.ajax({url:"/UserManagement/OfficeUserDetails/UpdateOfficeUser",type:"POST",data:$("#RegistrationOfficeUserFormId").serialize(),headers:header,success:function(n){n.success?(bootbox.alert({message:'<i class="fa fa-check text-success boot-icon"><\/i><span class="boot-alert-txt">'+n.message+"<\/span>",callback:function(){GetJsonData();OpenOfficeList();$("#DivOfficeUserDetailsWrapper").fadeOut(500);$("#panelOfficeUser").fadeIn();document.documentElement.scrollTop=0}}),$.unblockUI()):n.message==undefined?bootbox.alert({message:'<i class="fa fa-exclamation-triangle text-danger boot-icon boot-icon"><\/i><span class="boot-alert-txt">Something went wrong while processing your request .<\/span>',callback:function(){$.unblockUI()}}):(bootbox.alert({message:'<i class="fa fa-exclamation-triangle text-danger boot-icon boot-icon"><\/i><span class="boot-alert-txt">'+n.message+"<\/span>"}),$.unblockUI())},error:function(){bootbox.alert({message:'<i class="fa fa-exclamation-triangle text-danger boot-icon boot-icon"><\/i><span class="boot-alert-txt"> Error in processing Office User details...<\/span>'});$.unblockUI()}}))}});else{$.unblockUI();return}});$("#FirstName").focus();$("#ddlIDProof").change(function(){$("#IDProofNumber").val("");$("#IDProofNumber").unbind();$("#ddlIDProof").val()==1?($("#IDProofNumber").attr("placeholder","PAN Number"),$("#IDProofNumber").keyup(function(){this.value=this.value.toUpperCase()})):$("#ddlIDProof").val()==2?$("#IDProofNumber").attr("placeholder","Passport Number"):$("#ddlIDProof").val()==3?$("#IDProofNumber").attr("placeholder","Driving License Number"):$("#ddlIDProof").val()==4?$("#IDProofNumber").attr("placeholder","Bank Passbook Number"):$("#ddlIDProof").val()==5?$("#IDProofNumber").attr("placeholder","School Leaving Certificate Number"):$("#ddlIDProof").val()==6?$("#IDProofNumber").attr("placeholder","Matriculation Certificate Number"):$("#ddlIDProof").val()==9?$("#IDProofNumber").attr("placeholder","Water Bill Number"):$("#ddlIDProof").val()==10?$("#IDProofNumber").attr("placeholder","Ration Card Number"):$("#ddlIDProof").val()==12?$("#IDProofNumber").attr("placeholder","Voting Card Number"):$("#ddlIDProof").val()==13?$("#IDProofNumber").attr("placeholder","Aadhar Card Number"):$("#IDProofNumber").attr("placeholder","ID Proof Number")});$("#txtUserName").focusout(function(){if(vIsForUpdate==0){var n=$("#txtUserName").val();n.length!=0&&$.ajax({type:"GET",url:"/UserManagement/OfficeUserDetails/CheckUserNameAvailability?userName="+n,success:function(n){n.success?($("#InValidUserNameID").show(),$("#txtUserName").focus()):$("#InValidUserNameID").hide()},error:function(){bootbox.alert({message:'<i class="fa fa-exclamation-triangle text-danger boot-icon boot-icon"><\/i><span class="boot-alert-txt"> Error in processing Office User details...<\/span>'})}})}});$(".AllowOnlyNumber").keypress(function(n){if(n.which!=8&&n.which!=0&&(n.which<48||n.which>57))return!1});$("#btnCreate").click(function(){var n=$("#RegistrationOfficeUserFormId");n.removeData("validator");n.removeData("unobtrusiveValidation");$.validator.unobtrusive.parse(n);$("#RegistrationOfficeUserFormId").valid()&&(BlockUI(),$.ajax({url:"/Login/GetSessionSalt",type:"GET",async:!0,cache:!1,success:function(n){if(n.success==!0){if(n.serverError==!0&&n.success==!1)(n.message!=null||n.message!="")&&($.unblockUI(),bootbox.alert(n.message,function(n){n&&(window.location.href="/Error/Index")}));else if(n.dataMessage!=null){var t=hex_sha512($("#txtPassword").val()),i=t+rstr2hex(n.SENCData).toUpperCase(),r=hex_sha512(i);$("#txtPassword").val(r);var t=hex_sha512($("#txtConfirmPassword").val()),i=t+rstr2hex(n.SENCData).toUpperCase(),r=hex_sha512(i);$("#txtConfirmPassword").val(r);$.ajax({url:"/UserManagement/OfficeUserDetails/OfficeUserRegistration",type:"POST",data:$("#RegistrationOfficeUserFormId").serialize(),dataType:"json",headers:header,success:function(n){n.success?bootbox.alert({message:'<i class="fa fa-check text-success boot-icon"><\/i><span class="boot-alert-txt">'+n.message+"<\/span>",callback:function(){GetJsonData();OpenOfficeList();$("#DivOfficeUserDetailsWrapper").fadeOut(500);$("#panelOfficeUser").fadeIn();document.documentElement.scrollTop=0}}):(n.errorMessage==undefined?bootbox.alert({message:'<i class="fa fa-exclamation-triangle text-danger boot-icon boot-icon"><\/i><span class="boot-alert-txt">Something went wrong while processing your request .<\/span>',callback:function(){$.unblockUI()}}):n.errorMessage.length!=0?(bootbox.alert({message:'<i class="fa fa-exclamation-triangle text-danger boot-icon boot-icon"><\/i><span class="boot-alert-txt">'+n.errorMessage+"<\/span>"}),$("#txtPassword").val(""),$("#txtConfirmPassword").val(""),$.unblockUI()):(bootbox.alert({message:'<i class="fa fa-exclamation-triangle text-danger boot-icon boot-icon"><\/i><span class="boot-alert-txt">'+n.errorMessage+"<\/span>"}),$("#txtPassword").val(""),$("#txtConfirmPassword").val("")),$.unblockUI())},error:function(){bootbox.alert({message:'<i class="fa fa-exclamation-triangle text-danger boot-icon boot-icon"><\/i><span class="boot-alert-txt">Error occured while processing your request.<\/span>'});$.unblockUI()}})}$.unblockUI()}},error:function(){window.location.href="/Error/Index";$.unblockUI()}}))});$("#txtPAN").keyup(function(){this.value=this.value.toUpperCase()});$("#btnReset").click(function(){$(".text-danger").text("")});$("#LevelDropDownListId").change(function(){$("#LevelDropDownListId").val()==0&&bootbox.alert("Please select level",function(){$("#RoleDropDownListId").prop("disabled",!0);$("#RoleDropDownListId").empty();$("#RoleDropDownListId").append(new Option("-- Select Role --","0"));$("#OfficeNamesDropDownId").prop("disabled",!0);$("#OfficeNamesDropDownId").empty();$("#OfficeNamesDropDownId").append(new Option("-- Select Office --","0"))});$("#LevelDropDownListId").val()!=0&&(BlockUI(),$.ajax({url:"/UserManagement/OfficeUserDetails/GetRoleListByLevel/",data:{LevelID:$("#LevelDropDownListId option:selected").val()},datatype:"json",type:"GET",success:function(n){n.errorMessage!=undefined?($.unblockUI(),bootbox.alert({message:'<i class="fa fa-exclamation-triangle text-danger boot-icon boot-icon"><\/i><span class="boot-alert-txt">'+n.errorMessage+"<\/span>",callback:function(){window.location.href="/Home/HomePage"}})):($("#RoleDropDownListId").empty(),$.each(n.RoleDropDown,function(n,t){$("#RoleDropDownListId").append('<option value="'+t.Value+'">'+t.Text+"<\/option>")}),$("#RoleDropDownListId").prop("disabled",!1),$("#OfficeNamesDropDownId").empty(),$.each(n.OfficeNamesDropDown,function(n,t){$("#OfficeNamesDropDownId").append('<option value="'+t.Value+'">'+t.Text+"<\/option>")}),$("#OfficeNamesDropDownId").prop("disabled",!1));$.unblockUI()},error:function(){bootbox.alert({message:'<i class="fa fa-exclamation-triangle text-danger boot-icon boot-icon"><\/i><span class="boot-alert-txt">Error in Processing<\/span>',callback:function(){}});$.unblockUI()}}))});isDrLogin=="True"&&($("select option:not(:selected)").attr("disabled","disabled"),$("#RegistrationOfficeUserFormId :input").prop("readonly",!0))});