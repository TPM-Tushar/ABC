function updateRoleActionAuth(){var n=$("#FormRoleActionAuth");n.removeData("validator");n.removeData("unobtrusiveValidation");$.validator.unobtrusive.parse(n);bootbox.confirm({title:"<span class='boot-alert-title'><i class='fa fa-question-circle'><\/i>&nbsp;&nbsp;Confirm<\/span>",message:"<span class='boot-alert-txt'>Are you sure you want to update?<\/span>",buttons:{cancel:{label:'<i class="fa fa-times"><\/i> No',className:"pull-right margin-left-NoBtn"},confirm:{label:'<i class="fa fa-check"><\/i> Yes'}},callback:function(n){n&&($("#stateDropdownLIst").prop("disabled",!1),BlockUI(),$.ajax({url:"/UserManagement/ActionDetails/UpdateRoleActionAuth/",type:"POST",data:$("#FormRoleActionAuth").serialize(),headers:header,success:function(n){n.success?bootbox.alert({message:'<i class="fa fa-check text-success boot-icon"><\/i><span class="boot-alert-txt">'+n.message+"<\/span>",callback:function(){LoadControllerActionDetailsData();$.unblockUI();$("#divViewRoleModal").modal("hide")}}):(bootbox.alert({message:'<i class="fa fa-exclamation-triangle text-danger boot-icon boot-icon"><\/i><span class="boot-alert-txt">'+n.message+" <\/span>",callback:function(){window.location.href="/Home/HomePage"}}),$.unblockUI())},error:function(){bootbox.alert({message:'<i class="fa fa-exclamation-triangle text-danger boot-icon boot-icon"><\/i><span class="boot-alert-txt">Error in processing Controller Action details... <\/span>'});$.unblockUI()}}))}})}function AreaChangeFun(){$("#areaList option:selected").val()=="0"?(bootbox.alert("Please Select Area Name"),$("#controllerList").prop("disabled",!0),$("#controllerList").empty(),$("#actionList").prop("disabled",!0),$("#actionList").empty()):$.ajax({url:"/UserManagement/ActionDetails/GetControllerList?AreaName="+$("#areaList option:selected").val(),type:"GET",success:function(n){n.response!=null?bootbox.alert({message:'<i class="fa fa-exclamation-triangle text-danger boot-icon boot-icon"><\/i><span class="boot-alert-txt">'+n.response+"<\/span>",callback:function(){window.location.href="/Home/HomePage"}}):($("#controllerList").empty(),$("#actionList").empty(),$("#areaList option:selected").val()!="0"?$.each(n.ControllerList,function(n,t){$("#controllerList").append('<option value="'+t.Value+'">'+t.Text+"<\/option>");$("#controllerList").prop("disabled",!1);$("#actionList").prop("disabled",!0)}):($("#controllerList").empty(),$("#actionList").empty(),$("#controllerList").prop("disabled",!0),$("#actionList").prop("disabled",!0)))},error:function(){$.alert("Error in Processing")}})}function ControllerChangeFun(){$("#controllerList option:selected").val()=="0"?(bootbox.alert("Please Select Controller Name"),$("#actionList").prop("disabled",!0),$("#actionList").empty()):(ControllerNameIdHidden=$("#controllerList option:selected").val(),$.ajax({url:"/UserManagement/ActionDetails/GetActionList",type:"GET",data:{AreaName:$("#areaList option:selected").val(),controllerName:$("#controllerList option:selected").val()},success:function(n){n.response!=null?bootbox.alert({message:'<i class="fa fa-exclamation-triangle text-danger boot-icon boot-icon"><\/i><span class="boot-alert-txt">'+n.response+"<\/span>",callback:function(){window.location.href="/Home/HomePage"}}):($("#actionList").empty(),$("#controllerList option:selected").val()!="0"?$.each(n.ActionList,function(n,t){$("#actionList").append('<option value="'+t.Value+'">'+t.Text+"<\/option>");$("#actionList").prop("disabled",!1)}):$("#actionList").prop("disabled",!0))},error:function(){$.alert("Error in Processing")}}))}function ActionChangeFun(){ActionNameIdHidden=$("#actionList option:selected").val()}var token="",header={},ActionNameIdHidden="",ControllerNameIdHidden="";$(document).ready(function(){token=$("[name=__RequestVerificationToken]").val();header.__RequestVerificationToken=token;$("#controllerList").prop("disabled",!0);$("#actionList").prop("disabled",!0);$("#closeControllerAction").click(function(){window.location.href="/UserManagement/ActionDetails/ShowControllerActionData"});$("#btnCancel").click(function(){window.location.href="/UserManagement/ActionDetails/ShowControllerActionData"});$("#listbox").multiselect({includeSelectAllOption:!0});$("#ddMenuList").multiselect({includeSelectAllOption:!0});$(".multiselect").addClass("minimal");$(".multiselect").addClass("btn-sm");$("#btnSave").click(function(){var n=$("#ControllerActionDetailsForm");if(n.removeData("validator"),n.removeData("unobtrusiveValidation"),$.validator.unobtrusive.parse(n),$("#ControllerActionDetailsForm").valid())BlockUI(),$.ajax({url:"/UserManagement/ActionDetails/InsertControllerActionData",type:"post",data:$("#ControllerActionDetailsForm").serialize(),headers:header,success:function(n){n.success?bootbox.alert({message:'<i class="fa fa-check text-success boot-icon"><\/i><span class="boot-alert-txt">'+n.message+"<\/span>",callback:function(){$("#DivControllerActionWrapper").fadeOut(500);$("#panelNewControllerAction").show();LoadControllerActionDetailsData();OpenControllerActionList();$.unblockUI()}}):n.role==!0?($("#RoleError").html("<div><span class='text-danger'><span >Please select Role<\/span><\/span><div>"),$.unblockUI()):(bootbox.alert({message:'<i class="fa fa-exclamation-triangle text-danger boot-icon boot-icon"><\/i><span class="boot-alert-txt">'+n.message+"<\/span>"}),$.unblockUI())},error:function(){bootbox.alert({message:'<i class="fa fa-exclamation-triangle text-danger boot-icon boot-icon"><\/i><span class="boot-alert-txt">Error in processing Controller Action details... <\/span>'});$.unblockUI()}});else return});$("#btnUpdate").click(function(){var n=$("#ControllerActionDetailsForm");if(n.removeData("validator"),n.removeData("unobtrusiveValidation"),$.validator.unobtrusive.parse(n),$("#ControllerActionDetailsForm").valid())bootbox.confirm({title:"<span class='boot-alert-title'><i class='fa fa-question-circle'><\/i>&nbsp;&nbsp;Confirm<\/span>",message:"<span class='boot-alert-txt'>Are you sure you want to update?<\/span>",buttons:{cancel:{label:'<i class="fa fa-times"><\/i> No',className:"pull-right margin-left-NoBtn"},confirm:{label:'<i class="fa fa-check"><\/i> Yes'}},callback:function(n){ControllerNameIdHidden=$("#controllerList option:selected").val();$("#ControllerNameId_HiddenId").val(ControllerNameIdHidden);ActionNameIdHidden=$("#actionList option:selected").val();$("#ActionNameId_HiddenId").val(ActionNameIdHidden);n&&($("#stateDropdownLIst").prop("disabled",!1),BlockUI(),$.ajax({url:"/UserManagement/ActionDetails/UpdateControllerActionData/",type:"POST",data:$("#ControllerActionDetailsForm").serialize(),headers:header,success:function(n){n.success?bootbox.alert({message:'<i class="fa fa-check text-success boot-icon"><\/i><span class="boot-alert-txt">'+n.message+"<\/span>",callback:function(){$("#DivControllerActionWrapper").fadeOut(500);$("#panelNewControllerAction").show();$.unblockUI()}}):(bootbox.alert({message:'<i class="fa fa-exclamation-triangle text-danger boot-icon boot-icon"><\/i><span class="boot-alert-txt">'+n.message+" <\/span>",callback:function(){window.location.href="/Home/HomePage"}}),$.unblockUI())},error:function(){bootbox.alert({message:'<i class="fa fa-exclamation-triangle text-danger boot-icon boot-icon"><\/i><span class="boot-alert-txt">Error in processing Controller Action details... <\/span>'});$.unblockUI()}}))}});else return});$("#btnUpdateRoleAuth").click(function(){updateRoleActionAuth()});$("#btnCancelRoleAuth").click(function(){$("#divViewRoleModal").modal("hide")});$("#closeRoleAuthPopup").click(function(){$("#divViewRoleModal").modal("hide")})});