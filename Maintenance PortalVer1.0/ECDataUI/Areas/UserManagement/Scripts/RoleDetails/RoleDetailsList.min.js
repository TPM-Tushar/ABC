function CollapseRoleDetailsList(){$("#roleDetailsListCollapse").trigger("click");var n=$("#ToggleIconID").attr("class");$("#ToggleIconID").removeClass(n).addClass("fa fa-plus-square-o fa-pull-left fa-2x")}function OpenRoleDetailsList(){$("#roleDetailsListCollapse").trigger("click");var n=$("#ToggleIconID").attr("class");$("#ToggleIconID").removeClass(n).addClass("fa fa-minus-square-o fa-pull-left fa-2x")}function retriveRoleDetailsList(){$("#editRoleDetailsHeadingId").hide();$("#roleDetailsListTable").DataTable().destroy();var t="false",n=$("#roleDetailsListTable").DataTable({responsive:!0,processing:!0,serverSide:!0,filter:!0,orderMulti:!1,pageLength:10,language:{search:"Search"},scrollX:!0,scrollY:"30vh",scrollCollapse:!0,ajax:{url:"/UserManagement/RoleDetails/LoadRoleDetailsList",type:"POST",beforeSend:function(){var t=$("#roleDetailsListTable_filter input").val(),i;if(t!=""&&(i=/^[^<>]+$/,!i.test(t)))return $("#roleDetailsListTable_filter input").prop("disabled",!0),bootbox.alert("Please enter valid Search String ",function(){n.search("").draw();$("#roleDetailsListTable_filter input").prop("disabled",!1)}),!1},datatype:"json",dataSrc:function(n){return $.unblockUI(),n.errorMessage!=null&&bootbox.alert({message:'<i class="fa fa-exclamation-triangle text-danger boot-icon boot-icon"><\/i><span class="boot-alert-txt">'+n.errorMessage+"<\/span>",callback:function(){window.location.href="/Home/HomePage"}}),t=n.isTechAdmin==1?"true":"false",$.unblockUI(),n.data}},columnDefs:[],columns:[{data:"RoleName",name:"RoleName",autoWidth:!0},{data:"RoleName",name:"RoleName",autoWidth:!0},{data:"IsActive",render:function(n){return n==!0?"<i class='fa fa-check' aria-hidden='true' style='color:black;'><\/i>":"<i class='fa fa-times' aria-hidden='true' style='color:black;'><\/i>"}},{data:"MapMenuButton",name:"MapMenuButton",autoWidth:!0},{data:"EditRoleButton",name:"EditRoleButton",autoWidth:!0},{data:"AssignedMenus",name:"AssignedMenus",autoWidth:!0},],fnInitComplete:function(){t!="true"&&n.columns([4]).visible(!1)}});n.on("draw.dt",function(){var t=$("#roleDetailsListTable").DataTable().page.info();n.column(0,{page:"current"}).nodes().each(function(n,i){n.innerHTML=i+1+t.start})});$("#roleDetailsListTable_info").css("margin-left","-2%");$("#roleDetailsListTable_info").css("font-size","120%");$(".dataTables_scrollHeadInner").css("box-sizing","inherit")}function showAddRoleDetailForm(){BlockUI();$.ajax({url:"/UserManagement/RoleDetails/AddRoleDetails",datatype:"text",type:"GET",contenttype:"application/json; charset=utf-8",async:!0,success:function(n){$("#addEditDivId").show();$("#ShowAddEditRoleDetailsFormID").hide();$("#addRoleDetailsHeadingId").show();$("#editRoleDetailsHeadingId").hide();$("#roleMenuMappingHeadingId").hide();$("#addEditDivId").html(n);$.unblockUI()},error:function(){bootbox.alert({message:'<i class="fa fa-exclamation-triangle text-danger boot-icon boot-icon"><\/i><span class="boot-alert-txt">Error in Processing<\/span>'});$.unblockUI()}})}function showEditRoleDetailForm(n){$("#panelRoleDetailsForm").show();CollapseRoleDetailsList();$("#addEditDivId").show();$("#ShowAddEditRoleDetailsFormID").hide();$("#addRoleDetailsHeadingId").hide();$("#editRoleDetailsHeadingId").show();$("#roleMenuMappingHeadingId").hide();BlockUI();$.ajax({url:"/UserManagement/RoleDetails/EditRoleDetails/",data:{EncryptedID:n},datatype:"text",type:"GET",contenttype:"application/json; charset=utf-8",async:!0,success:function(n){$("#addEditDivId").html(n);$.unblockUI()},error:function(){bootbox.alert({message:'<i class="fa fa-exclamation-triangle text-danger boot-icon boot-icon"><\/i><span class="boot-alert-txt">Error in Processing<\/span>'});$.unblockUI()}})}function deleteRoleDetails(n,t){var i=t=="1"?"DeActivate":"Activate",r=bootbox.confirm({title:"<span class='boot-alert-title'><i class='fa fa-question-circle'><\/i>&nbsp;&nbsp;Confirm<\/span>",message:"<span class='boot-alert-txt'>Do you want to "+i+" Role?<\/span>",buttons:{cancel:{label:'<i class="fa fa-times"><\/i> No',className:"pull-right margin-left-NoBtn"},confirm:{label:'<i class="fa fa-check"><\/i> Yes'}},callback:function(t){t&&(BlockUI(),$.ajax({url:"/UserManagement/RoleDetails/DeleteRoleDetails/",data:{EncryptedID:n},datatype:"json",type:"POST",success:function(n){bootbox.alert({message:'<i class="fa fa-check text-success boot-icon"><\/i><span class="boot-alert-txt">'+n.roleDetailsResponseModel.Message+"<\/span>",callback:function(){}});retriveRoleDetailsList();$.unblockUI()},error:function(){bootbox.alert({message:'<i class="fa fa-exclamation-triangle text-danger boot-icon boot-icon"><\/i><span class="boot-alert-txt">Error in Processing<\/span>'});$.unblockUI()}}))}});$("addEditDivId").hide()}function RoleMenuMapping(n){$("#panelRoleDetailsForm").show();CollapseRoleDetailsList();$("#addEditDivId").show();$("#ShowAddEditRoleDetailsFormID").hide();$("#addRoleDetailsHeadingId").hide();$("#editRoleDetailsHeadingId").hide();$("#roleMenuMappingHeadingId").show();BlockUI();$.ajax({url:"/UserManagement/RoleDetails/RoleMenuMapping/",data:{EncryptedID:n},datatype:"text",type:"GET",contenttype:"application/json; charset=utf-8",async:!0,success:function(n){$("#addEditDivId").html(n);$.unblockUI()},error:function(){bootbox.alert({message:'<i class="fa fa-exclamation-triangle text-danger boot-icon boot-icon"><\/i><span class="boot-alert-txt">Error in Processing<\/span>'});$.unblockUI()}})}function BlockUI(){$.blockUI({css:{border:"none",padding:"15px",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px",opacity:.5,color:"#fff"}})}$(document).ready(function(){$("ul#crumbs li:nth-child(1)").trigger("click");retriveRoleDetailsList();$("#panelRoleDetailsForm").hide();$("#roleDetailsListCollapse").trigger("click");$("#roleDetailsListCollapse").click(function(){var n=$("#ToggleIconID").attr("class"),t=n=="fa fa-plus-square-o fa-pull-left fa-2x"?"fa fa-minus-square-o fa-pull-left fa-2x":"fa fa-plus-square-o fa-pull-left fa-2x";$("#ToggleIconID").removeClass(n).addClass(t)});$("#buttonToOpenAddRoleForm").click(function(){$("#panelRoleDetailsForm").show();showAddRoleDetailForm();CollapseRoleDetailsList()})});RoleMenuMapping;$("#togglebtnId").click(function(){setTimeout(function(){$("thead").children().children().eq(1).click();$("thead").children().children().eq(1).click()},275)});