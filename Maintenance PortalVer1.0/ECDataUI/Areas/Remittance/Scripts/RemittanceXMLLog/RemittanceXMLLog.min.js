function BlockUI(){$.blockUI({css:{border:"none",padding:"15px",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px",opacity:.5,color:"#fff"}})}function DownloadREMLogXml(n){window.location.href="/Remittance/RemittanceXMLLog/DownloadREMLogXml?RequestXMLID="+n}var token="",header={};$(document).ready(function(){token=$("[name=__RequestVerificationToken]").val();header.__RequestVerificationToken=token;$("input[name='OfficeTypeToGetDropDown']").click(function(){var n=$("input[name='OfficeTypeToGetDropDown']:checked").val();blockUI("PLEASE WAIT");$.ajax({url:"/Remittance/RemittanceXMLLog/GetOfficeList",datatype:"text",type:"GET",contenttype:"application/json; charset=utf-8",async:!0,data:{OfficeType:n},success:function(n){n.errorMessage==undefined?($("#OfficeTypeDropDownID").empty(),$.each(n.OfficeList,function(n,t){$("#OfficeTypeDropDownID").append('<option value="'+t.Value+'">'+t.Text+"<\/option>")})):bootbox.alert({message:'<i class="fa fa-exclamation-triangle text-danger boot-icon boot-icon"><\/i><span class="boot-alert-txt">'+n.errorMessage+"<\/span>"});$("#ToggleIconID").attr("class")==="fa fa-minus-square-o fa-pull-left fa-2x"&&($("#remittanceXMLLogListCollapse").trigger("click"),$("#REMDetailsListTable").DataTable().clear().destroy());unBlockUI()},error:function(){bootbox.alert({message:'<i class="fa fa-exclamation-triangle text-danger boot-icon boot-icon"><\/i><span class="boot-alert-txt">Error in Processing<\/span>'});unBlockUI()}})});$("#btnSearch").click(function(){var i=$("#txtFromDate").val(),r=$("#txtToDate").val(),t=$("input[name='OfficeTypeToGetDropDown']:checked").val(),n;if(t==undefined)bootbox.alert('<i class="fa fa-exclamation-triangle text-danger boot-icon boot-icon"><\/i><span class="boot-alert-txt">Please select office type.<\/span>');else if($("#OfficeTypeDropDownID").val()==="0"||$("#OfficeTypeDropDownID").val()<"0")bootbox.alert('<i class="fa fa-exclamation-triangle text-danger boot-icon boot-icon"><\/i><span class="boot-alert-txt">Please select office.<\/span>');else{$("#REMDetailsListTable").DataTable().destroy();n=$("#REMDetailsListTable").DataTable({responsive:!0,processing:!0,serverSide:!0,filter:!0,orderMulti:!1,pageLength:10,language:{search:"Search"},scrollX:!0,scrollY:"30vh",scrollCollapse:!0,ajax:{url:"/Remittance/RemittanceXMLLog/RemittanceXMLLogDetails",type:"POST",headers:header,beforeSend:function(){var t,i;return blockUI("PLEASE WAIT"),t=$("#REMDetailsListTable_filter input").val(),t!=""&&(i=/^[^<>]+$/,!i.test(t))?(unBlockUI(),$("#REMDetailsListTable_filter input").prop("disabled",!0),bootbox.alert("Please enter valid Search String ",function(){n.search("").draw();$("#REMDetailsListTable_filter input").prop("disabled",!1)}),!1):void 0},dataSrc:function(n){if(n.errorMessage!=undefined)unBlockUI(),bootbox.alert({message:'<i class="fa fa-exclamation-triangle text-danger boot-icon boot-icon"><\/i><span class="boot-alert-txt">'+n.errorMessage+"<\/span>",callback:function(){$("#REMDetailsListTable").DataTable().clear().destroy();var n=$("#ToggleIconID").attr("class");n=="fa fa-minus-square-o fa-pull-left fa-2x"&&$("#remittanceXMLLogListCollapse").trigger("click")}});else{var t=$("#ToggleIconID").attr("class");return t=="fa fa-plus-square-o fa-pull-left fa-2x"&&$("#remittanceXMLLogListCollapse").trigger("click"),unBlockUI(),n.data}},data:{OfficeType:t,OfficeTypeID:$("#OfficeTypeDropDownID").val(),fromDate:i,ToDate:r,RequestTxt:$("#RequestTxtID").val(),ResponseTxt:$("#ResponseTxtID").val()},datatype:"json"},columnDefs:[{orderable:!1,targets:[0]},{orderable:!1,targets:[1]},{orderable:!1,targets:[2]},{orderable:!1,targets:[3]},{orderable:!1,targets:[4]},{orderable:!1,targets:[5]},{orderable:!1,targets:[6]},{orderable:!1,targets:[7]},{orderable:!1,targets:[8]}],columns:[{data:"RequestXMLID",name:"RequestXMLID",autoWidth:!0},{data:"RequestXMLID",name:"RequestXMLID",autoWidth:!0},{data:"SROCode",name:"SROCode",autoWidth:!0},{data:"RequestDateTime",name:"RequestDateTime",autoWidth:!0},{data:"ResponseDateTime",name:"ResponseDateTime",autoWidth:!0},{data:"IsExceptionInRequest",name:"IsExceptionInRequest",autoWidth:!0},{data:"RequestExceptionDetails",name:"RequestExceptionDetails",autoWidth:!0},{data:"IsExceptionInResponse",name:"IsExceptionInResponse",autoWidth:!0},{data:"ResponseExceptionDetails",name:"ResponseExceptionDetails",autoWidth:!0},{data:"DownloadXmlBtn",name:"DownloadXmlBtn",autoWidth:!0}]});n.on("draw.dt",function(){var t=$("#REMDetailsListTable").DataTable().page.info();n.column(0,{page:"current"}).nodes().each(function(n,i){n.innerHTML=i+1+t.start})});$("#REMDetailsListTable_info").css("margin-left","-2%");$("#REMDetailsListTable_info").css("font-size","120%")}});$("#remittanceXMLLogListCollapse").click(function(){var n=$("#ToggleIconID").attr("class"),t=n=="fa fa-plus-square-o fa-pull-left fa-2x"?"fa fa-minus-square-o fa-pull-left fa-2x":"fa fa-plus-square-o fa-pull-left fa-2x";$("#ToggleIconID").removeClass(n).addClass(t)});$("#ResetID").click(function(){window.location.reload()});$("#OfficeTypeDropDownID").change(function(){$("#ToggleIconID").attr("class")==="fa fa-minus-square-o fa-pull-left fa-2x"&&($("#remittanceXMLLogListCollapse").trigger("click"),$("#REMDetailsListTable").DataTable().clear().destroy())});var n=new Date,t=n.getMonth()+1,i=n.getDate(),r=((""+i).length<2?"0":"")+i+"/"+((""+t).length<2?"0":"")+t+"/"+n.getFullYear();$("#txtFromDate").datepicker({autoclose:!0,format:"dd/mm/yyyy",endDate:"+0d",maxDate:"0",pickerPosition:"bottom-left"});$("#txtToDate").datepicker({autoclose:!0,format:"dd/mm/yyyy",endDate:"+0d",maxDate:"0",pickerPosition:"bottom-left"});$("#divFromDate").datepicker({autoclose:!0,format:"dd/mm/yyyy",endDate:"+0d",maxDate:new Date,pickerPosition:"bottom-left"});$("#divToDate").datepicker({autoclose:!0,format:"dd/mm/yyyy",endDate:"+0d",maxDate:new Date,pickerPosition:"bottom-left"});$("#txtToDate").datepicker({format:"dd/mm/yyyy"}).datepicker("setDate",r);$("#txtFromDate").datepicker({format:"dd/mm/yyyy",changeMonth:!0,changeYear:!0}).datepicker("setDate",r)});