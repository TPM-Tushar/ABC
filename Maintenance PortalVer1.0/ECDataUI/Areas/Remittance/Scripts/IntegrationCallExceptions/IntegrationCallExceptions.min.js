function BlockUI(){$.blockUI({css:{border:"none",padding:"15px",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px",opacity:.5,color:"#fff"}})}var token="",header={};$(document).ready(function(){token=$("[name=__RequestVerificationToken]").val();header.__RequestVerificationToken=token;$("input[name='OfficeTypeToGetDropDown']").click(function(){var n=$("input[name='OfficeTypeToGetDropDown']:checked").val();BlockUI();$.ajax({url:"/Remittance/IntegrationCallExceptions/GetOfficeList",datatype:"text",type:"GET",contenttype:"application/json; charset=utf-8",async:!0,data:{OfficeType:n},success:function(n){$("#OfficeTypeDropDownID").empty();$.each(n.OfficeList,function(n,t){$("#OfficeTypeDropDownID").append('<option value="'+t.Value+'">'+t.Text+"<\/option>")});$("#ToggleIconID").attr("class")==="fa fa-minus-square-o fa-pull-left fa-2x"&&($("#exceptionDetailsListCollapse").trigger("click"),$("#exceptionDetailsListTable").DataTable().clear().destroy());$.unblockUI()},error:function(){bootbox.alert({message:'<i class="fa fa-exclamation-triangle text-danger boot-icon boot-icon"><\/i><span class="boot-alert-txt">Error in Processing<\/span>'});$.unblockUI()}})});$("#btnSearch").click(function(){var t,n;BlockUI();t=$("input[name='OfficeTypeToGetDropDown']:checked").val();$("#exceptionDetailsListTable").DataTable().destroy();n=$("#exceptionDetailsListTable").DataTable({responsive:!0,processing:!0,serverSide:!0,filter:!0,orderMulti:!1,pageLength:10,language:{search:"Search"},scrollX:!0,scrollY:"30vh",scrollCollapse:!0,ajax:{url:"/Remittance/IntegrationCallExceptions/GetExceptionsDetails",type:"POST",headers:header,beforeSend:function(){var t=$("#exceptionDetailsListTable_filter input").val(),i;if(t!=""&&(i=/^[^<>]+$/,!i.test(t)))return $("#exceptionDetailsListTable_filter input").prop("disabled",!0),bootbox.alert("Please enter valid Search String ",function(){n.search("").draw();$("#exceptionDetailsListTable_filter input").prop("disabled",!1)}),!1},dataSrc:function(n){if(n.errorMessage!=undefined)unBlockUI(),bootbox.alert({message:'<i class="fa fa-exclamation-triangle text-danger boot-icon boot-icon"><\/i><span class="boot-alert-txt">'+n.errorMessage+"<\/span>",callback:function(){$("#exceptionDetailsListTable").DataTable().clear().destroy()}});else{var t=$("#ToggleIconID").attr("class");return t=="fa fa-plus-square-o fa-pull-left fa-2x"&&$("#exceptionDetailsListCollapse").trigger("click"),unBlockUI(),n.data}},data:{OfficeType:t,OfficeTypeID:$("#OfficeTypeDropDownID").val()},datatype:"json"},columnDefs:[{orderable:!1,targets:[0]},{orderable:!1,targets:[1]},{orderable:!1,targets:[2]},{orderable:!1,targets:[3]},{orderable:!1,targets:[4]},{orderable:!1,targets:[5]},{orderable:!1,targets:[6]},{orderable:!1,targets:[7]},{orderable:!1,targets:[8]},{orderable:!1,targets:[9]},{orderable:!1,targets:[10]}],columns:[{data:"Logid",name:"Logid",autoWidth:!0},{data:"Logid",name:"Logid",autoWidth:!0},{data:"SROCode",name:"SROCode",autoWidth:!0},{data:"ExceptionType",name:"ExceptionType",autoWidth:!0},{data:"InnerExceptionMsg",name:"InnerExceptionMsg",autoWidth:!0},{data:"ExceptionMsg",name:"ExceptionMsg",autoWidth:!0},{data:"ExceptionStackTrace",name:"ExceptionStackTrace",autoWidth:!0},{data:"ExceptionMethodName",name:"ExceptionMethodName",autoWidth:!0},{data:"LogDate",name:"LogDate",autoWidth:!0},{data:"IsDRO",name:"IsDRO",autoWidth:!0},{data:"DRO",name:"DRO",autoWidth:!0}]});n.on("draw.dt",function(){var t=$("#exceptionDetailsListTable").DataTable().page.info();n.column(0,{page:"current"}).nodes().each(function(n,i){n.innerHTML=i+1+t.start})});$("#exceptionDetailsListTable_info").css("margin-left","-2%");$("#exceptionDetailsListTable_info").css("font-size","120%");$.unblockUI()});$("#exceptionDetailsListCollapse").click(function(){var n=$("#ToggleIconID").attr("class"),t=n=="fa fa-plus-square-o fa-pull-left fa-2x"?"fa fa-minus-square-o fa-pull-left fa-2x":"fa fa-plus-square-o fa-pull-left fa-2x";$("#ToggleIconID").removeClass(n).addClass(t)});$("#ResetID").click(function(){window.location.reload()});$("#OfficeTypeDropDownID").change(function(){$("#ToggleIconID").attr("class")==="fa fa-minus-square-o fa-pull-left fa-2x"&&($("#exceptionDetailsListCollapse").trigger("click"),$("#exceptionDetailsListTable").DataTable().clear().destroy())})});