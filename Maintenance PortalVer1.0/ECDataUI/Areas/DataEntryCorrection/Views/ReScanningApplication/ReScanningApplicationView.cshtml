@model CustomModels.Models.DataEntryCorrection.ReScanningApplicationViewModel
@using ECDataUI.Helper

<script src="~/Areas/DataEntryCorrection/Scripts/ReScanningApplication.js"></script>

<style>

    .PaddingTop7 {
        padding-top: 7px;
    }

    .ShorterTextClass {
        max-width: 115px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        position: relative;
    }

    .boot-check {
        font-size: 13px;
        font-weight: 600;
        color: #08689D;
    }

    td.dt-center {
        font-weight: 600;
        font-size: 1.8rem;
        display: table-cell;
        vertical-align: middle !important;
    }

        td.dt-center.img-center {
            height: 35rem;
            position: relative;
            vertical-align: bottom !important;
        }

    td.bd-center {
        display: table-cell;
        vertical-align: bottom !important;
    }

    input[type="checkbox"] {
        width: 1.5rem !important;
        height: 1.5rem !important;
    }

    .tooltiptext {
        visibility: hidden;
        width: 100%;
        text-align: center;
        position: absolute;
        z-index: 1;
        left: 0;
        height: 100%;
    }

    .ShorterTextClass:hover .tooltiptext {
        visibility: visible;
        overflow: hidden;
    }

    .fa-file-pdf-o {
        color: red;
    }

    .fa-check {
        color: green;
    }

    .modalCloseBtn {
        background-color: transparent !important;
        color: #4c8ef5 !important;
    }

        .modalCloseBtn:hover {
            color: #f5544c !important;
        }


    .BTNwrapper {
        text-align: center;
        margin-top: 1%;
        margin-top: 1%;
    }

    table td {
        font-family: KNB-TTUmaEN;
        font-weight: 500;
        font-size: medium;
    }

    table.dataTable tbody th {
        white-space: nowrap;
    }

    .modal-open .modal {
        display: flex !important;
        align-items: center;
        justify-content: center;
    }

    .well-custom {
        box-shadow: 2px 2px 2px #ccc;
    }

    #MappingDetailsTableDIV {
        overflow-x: auto;
        display: none;
    }

    .thead_Color {
        background-color: #99CFF7;
    }

    .pull-left {
        float: left !important;
    }

    .subMenuDivClass {
        background-color: #F5F5F5;
        color: black;
    }

        .active, .subMenuDivClass:hover {
            background-color: #73A9D9;
            color: white;
            font-weight: 700;
            border: 1px solid #73A9D9 !important;
            border-radius: 10px 10px 0 0 !important;
            font-size: 14px !important;
        }

    table, th {
        text-align: center;
        font-family: KNB-TTUmaEN;
        font-weight: 500;
        font-size: medium;
        white-space: break-spaces;
    }

        table.dataTable thead > tr > th {
            padding-left: 5px;
            padding-right: 5px;
        }

    .KannadFontClass {
        font-family: KNB-TTUmaEN !important;
        font-size: initial !important;
    }

    .label-span {
        width: 100%;
        margin-left: auto;
        float: right;
        padding-top: 1rem;
    }

    span.label-span::before {
        content: '*';
        color: #3d77ab;
        font-size: 1.5rem;
        margin-left: 6px;
        float: left;
        margin-top: -0.4rem;
    }

    span.label-span p {
        padding-left: 15px;
        text-align: left;
    }

    #resultLoading {
        background-color: #00000096;
    }

    .textAlignLeft {
        text-align: left;
    }
</style>






<div class="col-md-offset-0">

    <h3 style="text-align:center;color:#3177b4;font-weight: 600;">ReScanning Order Entry</h3>
    <div class="panel panel-default" id="panelDROrderDetails" style="width: 100%; box-shadow: 5px 5px 10px #d0d3d4; background: #FBFCFC; display: block;">
        <div id='DROrderDetailsCollapse' class="row well-custom" data-toggle="collapse" data-target="#DROrderDetailsList" aria-expanded="false" aria-controls="DROrderDetailsList" style="height: 35px; padding-top: 10px; cursor: pointer;">
            <span style="cursor: pointer; margin-bottom: 20px;">
                <span id="DtlsToggleIconSearchPara" class="fa fa-minus-square-o fa-pull-left fa-2x" style="margin-left: 05px; font-size: 103%; padding-top: 2px; color: #FFF"></span>
            </span>
            <span class="" style="color: #fff; font-size: 120%;">Enter Details:</span>
        </div>


        <div id="DROrderDetailsList" class="collapse in row" style="text-align: center; background: #fff; border: 1px solid #ECF0F1 !important;">
            @Html.AntiForgeryToken()
            @Html.ValidationSummary(true)

            <div class="row" style="padding-top:3%; padding-bottom:2%">

                <div class='row'>

                    <div class="col-md-12 textAlignLeft" style="padding-top:1%;">

                        <div class="col-md-3" id="DRODropDownListID">
                            <div class="col-md-4">
                                @Html.LabelFor(model => model.DROfficeList, new { @class = "PaddingTop10" }, Mandatory.Yes)
                            </div>
                            <div class="col-md-8">
                                @Html.DropDownListFor(model => model.DROfficeID, @Model.DROfficeList, new { @class = "form-control minimal", id = "DROfficeListID", autocomplete = "off", tabindex = 1 })
                                @Html.ValidationMessageFor(model => model.DROfficeID, "", new { @class = "text-danger" })
                            </div>
                        </div>

                        <div class="col-md-3" id="SRODropDownListID">
                            <div class="col-md-4">
                                @Html.LabelFor(model => model.SROfficeList, new { @class = "PaddingTop10" }, Mandatory.Yes)
                            </div>
                            <div class="col-md-8">
                                @Html.DropDownListFor(model => model.SROfficeID, @Model.SROfficeList, new { @class = "form-control minimal", id = "SROfficeListID", autocomplete = "off", tabindex = 2 })
                                @Html.ValidationMessageFor(model => model.SROfficeID, "", new { @class = "text-danger" })
                            </div>
                        </div>

                        <div class="col-md-3">
                            <div class="col-md-5">
                                @Html.LabelFor(model => model.OrderNo, new { @class = "PaddingTop10", style = "padding-left:4px;" }, Mandatory.Yes)
                            </div>
                            <div class="col-md-7">
                                @Html.TextBoxFor(model => model.OrderNo, new { @class = "form-control", @id = "txtOrderNumber", @placeholder = "Order Number", @title = "Order Number", @maxlength = 100, @minlength = 1, tabindex = 3 })
                                @Html.ValidationMessageFor(model => model.OrderNo, "", new { @class = "text-danger" })
                            </div>
                        </div>

                        <div class="col-md-3">
                            <div class="col-md-4">
                                @Html.LabelFor(model => model.OrderDate, new { @class = "PaddingTop10" }, Mandatory.Yes)
                            </div>
                            <div class="date col-md-8" id="divFromDate" style="display: table; cursor: pointer;">
                                @Html.TextBoxFor(model => model.OrderDate, new { @class = "form-control", @id = "txtOrderDate", @placeholder = "dd/mm/yyyy", @title = "Order Date", @maxlength = 10, tabindex = 3 })
                                <span class="input-group-addon" style="margin-left: 2px; border: 1px solid #ccc; border-radius: 5px;" onclick="TrigDP()"><span class="glyphicon glyphicon-calendar CalendarIcon" style=""></span></span>
                            </div>
                        </div>


                    </div>


                    <div class="col-md-12" style="padding-top:1%;">
                        <div class="row" style="padding-bottom:1%;">
                            <div class="col-md-12">
                                <div class="col-md-12" style="margin-top:3%;">
                                    <input type="radio" name="DType" value="DOC" checked /> <label>Document Registration</label>
                                    <input style="margin-left:5%;" value="MARR" type="radio" name="DType" /> <label>Marriage Registration</label>
                                </div>
                            </div>
                        </div>
                    </div>



                </div>

                <div class="row" style="padding-top:3%;">
                    <div class="col-md-12 textAlignLeft" style="padding-top:1%;">


                        <div class="col-md-4">
                            <div class="col-md-4">
                                @Html.LabelFor(model => model.DocumentNumber, new { @class = "PaddingTop10", style = "padding-left:4px;", @id = "DynamicLabel" }, Mandatory.Yes)
                            </div>
                            <div class="col-md-8">
                                @Html.TextBoxFor(model => model.DocumentNumber, new { @class = "form-control", @id = "txtDocumentNumber", @placeholder = "Document Number", @title = "Document Number", @maxlength = 15, @minlength = 5, tabindex = 3 })
                                @Html.ValidationMessageFor(model => model.DocumentNumber, "", new { @class = "text-danger" })
                            </div>
                        </div>



                        <div class="col-md-4" id="BDIV">
                            <div class="col-md-4">
                                @Html.LabelFor(model => model.BookType, new { @class = "PaddingTop10", @Id = "BookTypeListLabel" }, Mandatory.Yes)
                            </div>
                            <div class="col-md-8">
                                @Html.DropDownListFor(model => model.BookTypeID, @Model.BookType, new { @class = "form-control minimal", id = "BookTypeListID", autocomplete = "off", tabindex = 4 })
                                @Html.ValidationMessageFor(model => model.BookType, "", new { @class = "text-danger" })
                            </div>
                        </div>

                        <div class="col-md-4" id="FDIV">
                            <div class="col-md-4">
                                @Html.LabelFor(model => model.FinancialYear, new { @class = "PaddingTop10", @Id = "ModuleNameListLabel" }, Mandatory.Yes)
                            </div>
                            <div class="col-md-8">
                                @Html.DropDownListFor(model => model.FinancialYearStr, @Model.FinancialYear, new { @class = "form-control minimal", id = "FinancialYearListID", autocomplete = "off", tabindex = 5 })
                                @Html.ValidationMessageFor(model => model.FinancialYear, "", new { @class = "text-danger" })
                            </div>
                        </div>
                    </div>
                </div>

            </div>

            <div class="row textAlignLeft" style="padding-bottom:2%;margin-top:3%;">
                <div class="col-md-4">

                    <div class="col-md-4">
                        <label for="oldPageCount" class="PaddingTop10">Current Page Count:</label>
                    </div>
                    <div class="col-md-8">
                        <input type="text" disabled id="oldPageCount" class="form-control" />
                    </div>

                </div>


                <div class="col-md-4">
                    @*<div class="col-md-2">
                    </div>*@
                    <div class="col-md-8">
                        <label for="NewPC" class="PaddingTop10">Do you want to modify Pages Count?</label>
                    </div>
                    <div class="col-md-4">
                        <input type="radio" name="NewPC" id="NewPC" value="0" checked /> <label>No</label>
                        <input style="margin-left:5%;" value="1" type="radio" name="NewPC" id="NewPC" /> <label>Yes</label>
                    </div>
                    @*<div class="col-md-1">
                    </div>*@
                </div>

                <div class="col-md-4">

                    <div class="col-md-4">
                        <label for="NewPageCount" class="PaddingTop10">New Page Count:</label>
                    </div>
                    <div class="col-md-8">
                        <input type="text" disabled id="NewPageCount" max="999" class="form-control" />
                    </div>

                </div>
            </div>

            <div class="row" style="padding-bottom:2%">
                <button class='btn btn-success' name='btnShow' id='btnShow' onclick="Show()" style="padding: 1rem;">Verify document details</button>
            </div>






        </div>




    </div>



    <div class="panel panel-default" id="panelDROrderDetails" style="width: 100%; box-shadow: 5px 5px 10px #d0d3d4; background: #FBFCFC; display: block;">
        <div id='UploadOrderDetailsCollapse' class="row well-custom" data-toggle="collapse" data-target="#UploadOrderDetails" aria-expanded="false" aria-controls="UploadOrderDetails" style="height: 35px; padding-top: 10px; cursor: pointer;">
            <span style="cursor: pointer; margin-bottom: 20px;">
                <span id="DtlsToggleIconSearchPara" class="fa fa-minus-square-o fa-pull-left fa-2x" style="margin-left: 05px; font-size: 103%; padding-top: 2px; color: #FFF"></span>
            </span>
            <span class="" style="color: #fff; font-size: 120%;">Upload Order:</span>
        </div>


        <div id="UploadOrderDetails" class="collapse in row" style="text-align: center; background: #fff; border: 1px solid #ECF0F1 !important;">

            <div class="row" style="padding-bottom:2%;display:none;box-shadow: 5px 5px 10px #d0d3d4;border: 1px solid #ECF0F1 !important;" id="uploadBtnWrapper">
                <div class="row" style="padding-bottom:2%;">
                    <h3>Select Order file for Upload</h3>
                </div>
                <div class="row" style="padding-bottom:2%;">
                    <div class="col-md-4"></div>
                    <div class="col-md-4" style="display:block;margin:auto;">
                        <div class="col-md-6" style="display:block;margin:auto;">
                            <input type="file" class="form-control-file" id="OrderFile" name="OrderFile" accept="application/pdf" style="display:block;margin:auto;float: right;">
                        </div>
                        <div class="col-md-6" style="display:block;margin:auto;float:left;">
                            <button class='btn btn-success' name='btnUpload' id='btnUpload' onclick="" style="float:left;">Upload</button>
                        </div>
                    </div>
                    <div class="col-md-4"></div>
                </div>
                <div class="row" style="padding:2%;text-align: right;">
                    <button class='btn btn-reset' id='btnReset' style="background-color: #dfdfdf;border-color: #a94442;color: #760c0c;">
                        <i class="fa  fa-refresh text-danger boot-icon boot-icon"></i>
                        Reset
                    </button>
                </div>
            </div>

        </div>
    </div>



    <div id="DROrderTableRSApp" class="" style="text-align: center; background: #fff; border: 1px solid #ECF0F1; padding-top: 1%;padding-bottom:1%;">
        <div class="clsTblWrapper" style="text-align: center; margin-left: 1%; margin-right: 1%;">
            <table id="RSADtlsTable" class="table table-striped table-bordered table-condensed table-hover" style="vertical-align: middle;background-color: aliceblue; overflow: hidden; border: solid; width: 100%;">
                <thead>
                    <tr>
                        <th>Sr. No</th>
                        <th>DRO Name</th>
                        <th>SRO Name</th>
                        <th>Order Uploaded By</th>
                        <th>Entry Date</th>
                        <th>Order Number</th>
                        <th>Order Date</th>
                        <th>Registration Number</th>
                        <th>Is Active</th>
                        <th>Is Re-scan Complete</th>
                        <th>Download DR Order</th>
                    </tr>
                </thead>
            </table>
        </div>
    </div>
</div>


