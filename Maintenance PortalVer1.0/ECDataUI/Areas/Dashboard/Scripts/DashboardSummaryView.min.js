function OnclickOfHref(n,t){$("#RevTartVsAch_Graph_btnID").addClass("active");$("#RevTartVsAch_DT_btnID").removeClass("active");$("#ProgCurrVsPrev_Graph_btnID").addClass("active");$("#ProgCurrVsPrev_DT_btnID").removeClass("active");$("#RevenueTargetVsAchievedMaxBtnId").show();$("#CurrentVsPrevFinYrMaxBtnId").show();DistrictTextForExcel=t;DistrictText=t;DistrictCode_=n;$("#spnOfficeDesc").text(t);PopulateTiles();PopulateAvgRegTimeFun();$("nav.navbar.bootsnav").on("mouseleave",function(){$("li.dropdown",this).removeClass("on");$(".dropdown-menu",this).stop().fadeOut();$(".dropdown-menu",this).removeClass(getIn);$(".col-menu",this).removeClass("on");$(".col-menu .content",this).stop().fadeOut();$(".col-menu .content",this).removeClass(getIn)});LoadRevenueTargetVsAchieved("1","1",selectedType,DistrictCode_);PopulateProgressChart("2","1",selectedType,DistrictCode_);DistrictCode_=="0"?selectedType=="F"?($("#OfficeStartTimeId").text("Average office start time for Fin Year "+$("#FinYearListId option:selected").text()),$("#TopAndBottomOfficesId").text("Top 3 and bottom 3 Districts in Revenue Collection (Target Vs Achieved) in Fin year "+$("#FinYearListId option:selected").text()),$("#HighlightsId").text("State : Current Fin Years Registration Highlights")):selectedType=="M"?($("#OfficeStartTimeId").text("Average office start time for Current Month"),$("#TopAndBottomOfficesId").text("Top 3 and bottom 3 Districts in Revenue Collection (Contribution Percentage) in Current Month"),$("#HighlightsId").text("State : Current Month's Registration Highlights")):selectedType=="D"&&($("#OfficeStartTimeId").text("Office Start time Indications as on today"),$("#TopAndBottomOfficesId").text("Top 3 and bottom 3 Districts in Revenue Collection (Contribution Percentage) as on Today"),$("#HighlightsId").text("State : Today's Registration Highlights")):selectedType=="F"?($("#OfficeStartTimeId").text("Average office start time for Fin Year "+$("#FinYearListId option:selected").text()),$("#HighlightsId").text(DistrictText+" : "+$("#FinYearListId option:selected").text()+" Fin Year's Registration Highlights"),$("#TopAndBottomOfficesId").text("Top 3 and bottom 3 SROs in Revenue Collection (Target Vs Achieved) in "+$("#FinYearListId option:selected").text()+" Fin year")):selectedType=="M"?($("#OfficeStartTimeId").text("Average office start time for Current Month"),$("#HighlightsId").text(DistrictText+" : Current Month's Registration Highlights"),$("#TopAndBottomOfficesId").text("Top 3 and bottom 3 SROs in Revenue Collection (Contribution Percentage) in Current Month")):selectedType=="D"&&($("#OfficeStartTimeId").text("Office start time indications as on Today"),$("#HighlightsId").text(DistrictText+" : Today's Registration Highlights"),$("#TopAndBottomOfficesId").text("Top 3 and bottom 3 SROs in Revenue Collection (Contribution Percentage) as on Today"))}function LoadAllCharts(){LoadRevenueTargetVsAchieved("1","1",selectedType,DistrictCode_);PopulateProgressChart("2","1",selectedType,DistrictCode_)}function ToggleGraphAndTable(n,t){switch(n){case"1":t=="2"?$("#RevenueTargetVsAchievedMaxBtnId").hide():$("#RevenueTargetVsAchievedMaxBtnId").show();LoadRevenueTargetVsAchieved(n,t,selectedType,DistrictCode_);break;case"2":t=="2"?$("#CurrentVsPrevFinYrMaxBtnId").hide():$("#CurrentVsPrevFinYrMaxBtnId").show();IsMonthsProgressChartVisible?PopulateProgressChartMonthWise(n,t,selectedType,DistrictCode_,FinYearForProgressMonthsChart):PopulateProgressChart(n,t,selectedType,DistrictCode_)}}function LoadRevenueTargetVsAchieved(n,t,i,r){blockUI("loading data.. please wait...");$.ajax({url:"/Dashboard/Dashboard/LoadRevenueTargetVsAchieved",type:"POST",data:{toggleBtnId:t,selectedType:i,DistrictCode:r},success:function(n){t==1&&($("#tbl_1_Wrapper").remove(),$("#dv_1_RevenueTargetVsAchieved_Wrapper").html('<div id="dv_1_Graph"><div class="box-body chat" id="chat-box" style="width: auto; overflow: hidden;"><div class="chart"><canvas id="cnvsRevenueTargetVsAchievedChart" height="188"><\/canvas><\/div><\/div><\/div>'),RevenueTargetVsAchievedDataSet(n),$("#EXCELRevenueTargetVsAchievedSpanID").html(""),unBlockUI());t==2&&($("#dv_1_Graph").remove(),$("#dv_1_RevenueTargetVsAchieved_Wrapper").html('<div id="tbl_1_Wrapper"><table id="tbl_1_RevenueTargetVsAchieved" class="table table-striped table-bordered table-condensed table-hover" style="text-align:center !important; vertical-align: middle;background-color: aliceblue; overflow: hidden; border: solid;width: 96%;"><\/table><\/div>'),FillDataTable(n.TableColumns,n.TableData,"tbl_1_RevenueTargetVsAchieved","tbl_1_Wrapper"),n.TableData.length!=undefined&&($("#EXCELRevenueTargetVsAchievedSpanID").html(""),$("#EXCELRevenueTargetVsAchievedSpanID").html(n.ExcelBtn)),unBlockUI())},error:function(n,t,i){bootbox.alert("Error occured while proccessing your request : "+i);unBlockUI()}})}function RevenueTargetVsAchievedDataSet(n){RevenueTargetVsAchievedFinYearsPopUp=n.LineChart.FinYears;Target_DataSet={label:n.LineChart.Lbl_Target,backgroundColor:"#F39C12",borderColor:"#F39C12",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"rgba(75,192,192,1)",pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"rgba(75,192,192,1)",pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:2,pointRadius:5,pointHitRadius:10,fill:!1,data:n.LineChart.Target};Achieved_DataSet={label:n.LineChart.Lbl_Achieved,backgroundColor:"#3C8DBC",borderColor:"#3C8DBC",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"rgba(75,192,192,1)",pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"rgba(75,192,192,1)",pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:2,pointRadius:5,pointHitRadius:10,fill:!1,data:n.LineChart.Achieved};ReloadRevenueTargetVsAchievedChart(n.LineChart.FinYears)}function ReloadRevenueTargetVsAchievedChart(n){var i=document.getElementById("cnvsRevenueTargetVsAchievedChart");t!=undefined&&t.destroy();var r={labels:n,datasets:[Target_DataSet,Achieved_DataSet]},u={scaleBeginAtZero:!0,responsive:!0,maintainAspectRatio:!0,legend:{onClick:function(n){n.stopPropagation()}}},t=Chart.Line(i,{data:r,options:{responsive:!0,title:{display:!0,position:"top",fontSize:0,fontColor:"#111"},legend:{display:!0,position:"top",labels:{fontColor:"#333",fontSize:12}},scales:{yAxes:[{ticks:{min:0},scaleLabel:{display:!0,labelString:"Rupees in Crore"}}]},layout:{padding:{left:0,right:0,top:0,bottom:0}}}})}function PopulateProgressChart(n,t,i,r){blockUI("loading data.. please wait...");$.ajax({url:"/Dashboard/Dashboard/PopulateProgressChart",type:"POST",data:{toggleBtnId:t,selectedType:i,DistrictCode:r},success:function(n){t==1&&($("#dv_2_ProgressChart_Wrapper").remove(),$("#dv_1_CurrentVsPrevFinYr_Wrapper").html('<div id="dv_2_Graph"><div class="box-body chat" id="chat-box" style="width: auto;  overflow: hidden;"><div class="chart" style="border-radius:10px;"><canvas id="cnvsProgressBarChart" height="188"><\/canvas><\/div><\/div><\/div>'),PopulateProgressChartDataSet(n),PopulatePregresschart(n),$("#EXCELCurrentVsPrevFinYearSpanID").html(""));t==2&&($("#dv_2_Graph").remove(),$("#dv_1_CurrentVsPrevFinYr_Wrapper").html('<div id="dv_2_ProgressChart_Wrapper"><table id="tbl_2_PregressChart" class="table table-striped table-bordered table-condensed table-hover" style="text-align:center !important; vertical-align: middle;background-color: aliceblue; overflow: hidden; border: solid;width: 50%;"><\/table><\/div>'),FillDataTable(n.TableColumns,n.TableData,"tbl_2_PregressChart","dv_2_ProgressChart_Wrapper"),$("#dv_2_Table").show(),$("#dv_2_Graph").hide(),n.TableData.length!=undefined&&($("#EXCELCurrentVsPrevFinYearSpanID").html(""),$("#EXCELCurrentVsPrevFinYearSpanID").html(n.ExcelBtn)));unBlockUI()},error:function(n,t,i){bootbox.alert("Error occured while proccessing your request : "+i);unBlockUI()}})}function PopulateProgressChartDataSet(n){CurrentVsPrevFinYrFinYearsPopUp=n.BarChart.FinYear;Document_DataSet={label:n.BarChart.Lbl_Documents,data:n.BarChart.Documents,yAxisID:"y-axis-0",backgroundColor:"#3C8DBC",borderColor:"#3C8DBC",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"rgba(75,192,192,1)",pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"rgba(75,192,192,1)",pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:2,pointRadius:5,pointHitRadius:10,fill:!1,type:"line"};Revenue_DataSet={label:n.BarChart.Lbl_Revenue,data:n.BarChart.Revenue,yAxisID:"y-axis-1",backgroundColor:["#E5E5E5","#E5E5E5","#E5E5E5","#E5E5E5","#E5E5E5","#E5E5E5","#E5E5E5","#E5E5E5",],borderColor:["rgba(10,20,30,1)","rgba(10,20,30,1)","rgba(10,20,30,1)","rgba(10,20,30,1)","rgba(10,20,30,1)","rgba(10,20,30,1)","rgba(10,20,30,1)","rgba(10,20,30,1)"],borderWidth:1}}function PopulatePregresschart(n){var i=document.getElementById("cnvsProgressBarChart");t!=undefined&&t.destroy();var r={labels:n.BarChart.FinYear,datasets:[Document_DataSet,Revenue_DataSet]},u={responsive:!0,title:{display:!0,position:"top",fontSize:0,fontColor:"#111"},legend:{display:!0,position:"top",labels:{fontColor:"#333",fontSize:12},onClick:function(n,i){var r=i.datasetIndex;t.data.datasets[r].hidden=!t.data.datasets[r].hidden;t.options.scales.yAxes[r].display=!t.options.scales.yAxes[r].display;t.update()}},scales:{yAxes:[{stacked:!1,position:"left",id:"y-axis-0",type:"linear",ticks:{beginAtZero:!0},scaleLabel:{display:!0,labelString:"No of Documents"}},{stacked:!1,position:"right",id:"y-axis-1",type:"linear",ticks:{beginAtZero:!0},scaleLabel:{display:!0,labelString:"Revenue : Rupees in Crore"}}]},layout:{padding:{left:0,right:0,top:0,bottom:0}}},t=new Chart(i,{type:"bar",data:r,options:u});unBlockUI()}function FillDataTable(n,t,i,r){if(t.length===undefined)bootbox.alert({size:"small",message:'<i class="fa fa-exclamation-triangle text-warning boot-icon"><\/i> <span class="boot-alert-txt"> Invalid option selected.<\/span>',callback:function(){}}),unBlockUI();else{$.fn.DataTable.isDataTable("#"+i)?($("#"+i).length>0&&$("#"+i).remove(),$("#"+r).html('<table id="'+i+'" class="table table-striped table-bordered table-condensed table-hover" style="text-align:center !important;vertical-align: middle;background-color: aliceblue; overflow: hidden; border: solid;width: 96%;"><\/table>')):$("#"+r).html('<table id="'+i+'" class="table table-striped table-bordered table-condensed table-hover" style="text-align:center !important;vertical-align: middle;background-color: aliceblue; overflow: hidden; border: solid;width: 96%;"><\/table>');var u=$("#"+i).DataTable({dom:"Bfrtip",destroy:!0,bInfo:!1,bPaginate:!1,bFilter:!1,responsive:!0,scrollY:"240px",scrollCollapse:!0,searching:!1,ordering:!1,buttons:[],columnDefs:[{searchable:!0,orderable:!1,className:"text-center",width:50,targets:0},{className:"text-center",targets:"_all"}],order:[[1,"asc"]],data:t,columns:n,fnInitComplete:function(){}})}unBlockUI()}function PopulateTiles(){DistrictCode_=="0"?selectedType=="F"?($("#OfficeStartTimeId").text("Average office start time for Fin Year "+$("#FinYearListId option:selected").text()),$("#TopAndBottomOfficesId").text("Top 3 and bottom 3 Districts in Revenue Collection (Target Vs Achieved) in Fin year "+$("#FinYearListId option:selected").text()),$("#HighlightsId").text("State :"+$("#FinYearListId option:selected").text()+" Fin Year's Registration Highlights"),$("#FinYearListId").show(),$("#DurationDescID").html("For Fin. Year "+$("#FinYearListId option:selected").text())):selectedType=="M"?($("#OfficeStartTimeId").text("Average office start time for Current Month"),$("#TopAndBottomOfficesId").text("Top 3 and bottom 3 Districts in Revenue Collection (Contribution Percentage) in Current Month"),$("#HighlightsId").text("State : Current Month's Registration Highlights"),$("#FinYearListId").hide(),$("#DurationDescID").html("For Current Month")):selectedType=="D"&&($("#OfficeStartTimeId").text("Office Start time Indications as on today"),$("#TopAndBottomOfficesId").text("Top 3 and bottom 3 Districts in Revenue Collection (Contribution Percentage) as on Today"),$("#HighlightsId").text("State : Today's Registration Highlights"),$("#FinYearListId").hide(),$("#DurationDescID").html("For Fin. Year "+$("#FinYearListId option:selected").text()),$("#DurationDescID").html("For Today")):selectedType=="F"?($("#OfficeStartTimeId").text("Average office start time for "+$("#FinYearListId option:selected").text()+" Fin Year"),$("#HighlightsId").text(DistrictTxt_+" : "+$("#FinYearListId option:selected").val()+" Fin Year's Registration Highlights"),$("#TopAndBottomOfficesId").text("Top 3 and bottom 3 SROs in Revenue Collection (Target Vs Achieved) in "+$("#FinYearListId option:selected").val()+" Fin year"),$("#FinYearListId").show(),$("#DurationDescID").html("For Fin. Year "+$("#FinYearListId option:selected").text())):selectedType=="M"?($("#OfficeStartTimeId").text("Average office start time for Current Month"),$("#HighlightsId").text(DistrictTxt_+" : Current Month's Registration Highlights"),$("#TopAndBottomOfficesId").text("Top 3 and bottom 3 SROs in Revenue Collection (Contribution Percentage) in Current Month"),$("#FinYearListId").hide(),$("#DurationDescID").html("For Current Month")):selectedType=="D"&&($("#OfficeStartTimeId").text("Office start time indications as on Today"),$("#HighlightsId").text(DistrictTxt_+" : Today's Registration Highlights"),$("#TopAndBottomOfficesId").text("Top 3 and bottom 3 SROs in Revenue Collection (Contribution Percentage) as on Today"),$("#FinYearListId").hide(),$("#DurationDescID").html("For Today"));blockUI("loading data.. please wait...");FinYear=selectedType=="F"?$("#FinYearListId option:selected").val():$("#FinYearListId option:first").val();$.ajax({type:"GET",url:"/Dashboard/Dashboard/PopulateTiles",data:{selectedType:selectedType,SelectedOffice:DistrictCode_,FinYearId:FinYear},success:function(n){if(n.success){for(var t=0;t<n.TilesModel.Tiles.length;t++)t==0||t==1||t==2||t==5?n.IsStateWise=="1"?$("#T_"+(t+1)+"_Amt").html('<span style="font-size:38px;white-space:nowrap;font-weight: bold;">'+n.TilesModel.Tiles[t].Amount+'<\/span style="font-size: 300px;font-weight: bold;"><span style="font-size: 30px;font-weight: bold;"> Cr<\/span>'):$("#T_"+(t+1)+"_Amt").html('<span style="font-size:38px;white-space:nowrap;font-weight: bold;">'+n.TilesModel.Tiles[t].Amount+'<\/span style="font-size: 300px;font-weight: bold;"><span style="font-size: 25px;font-weight: bold;"> Cr<\/span>'):$("#T_"+(t+1)+"_Amt").html('<span style="font-size:38px;white-space:nowrap;font-weight: bold;">'+n.TilesModel.Tiles[t].Amount+'<\/span style="font-size: 300px;font-weight: bold;"><span style="font-size: 30px;font-weight: bold;"> <\/span>'),$("#T_"+(t+1)+"_Title").text(n.TilesModel.Tiles[t].Title),$("#T_"+(t+1)+"_Desc").html('<span style="font-size:18px;white-space:nowrap;font-weight: bold;">'+n.TilesModel.Tiles[t].DescPercentage+'<\/span style="font-size: 30px;font-weight: bold !important;"><span style="font-size: 14px;font-weight: bold;">'+n.TilesModel.Tiles[t].Description+"<\/span>");PopulateRevenueList(n.TilesModel._RevenueCollectionWrapperModel);PopulateCurrentAchievements(n.TilesModel.CurrentAchievementsModel);fillStartTimeIndications(n.TilesModel.StartTimeIndicationTop,n.TilesModel.StartTimeIndicationBottom);PopulateProgressBarTop(n.TilesModel._ProgressBarTargetVsAchieved)}else bootbox.alert({message:'<i class="fa fa-exclamation-triangle text-danger boot-icon boot-icon"><\/i><span class="boot-alert-txt">Error Occured while processing request <\/span>'});unBlockUI()},error:function(){bootbox.alert({message:'<i class="fa fa-exclamation-triangle text-danger boot-icon boot-icon"><\/i><span class="boot-alert-txt">Error in processing<\/span>'})}})}function PopulateRevenueList(n){$("#sectionRevenueCollectedTop").html(n.UpperRevenueList);$("#sectionRevenueCollectedBottom").html(n.LowerRevenueList)}function PopulateCurrentAchievements(n){var t,i;for($("#UlAchivements").html(""),t=0;t<n.CurrentAchievementsList.length;t++)switch((t+1)%2){case 1:$("#UlAchivements").append('<li class="list-group-item list-group-item-secondary">'+n.CurrentAchievementsList[t]+"<\/li>");break;case 0:$("#UlAchivements").append('<li class="list-group-item list-group-item-secondary">'+n.CurrentAchievementsList[t]+"<\/li>")}i=$("#UlAchivements");FadeLists(i,0)}function LoadPopup(n){blockUI("loading data.. please wait...");FinYear=$("#FinYearListId option:selected").val();$("#divLoadPopupView").load("/Dashboard/Dashboard/LoadPopup",{PopupType:n,selectedType:selectedType,SelectedOffice:DistrictCode_,FinYear:FinYear},function(){$("#divLoadPopup").modal("show");unBlockUI();selectedType=="F"&&$("#IDPercentContributed").text("TARGET ACHIEVED");var n="";n=DistrictText==undefined?$("#spnOfficeDesc").text():DistrictText;selectedType=="F"?$("#spnModalHeadingSelectedVal").text("For Financial Year: "+$("#FinYearListId option:selected").text()+"("+n+")"):selectedType=="M"?$("#spnModalHeadingSelectedVal").text("For Current Month("+n+")"):selectedType=="D"&&$("#spnModalHeadingSelectedVal").text("For Today("+n+")")})}function fillStartTimeIndications(n,t){$("#sectionAvgTimeTop").html(n);$("#sectionAvgTimeBottom").html(t)}function PopulateProgressBarTop(n){TargetBar=document.getElementById("TargetBarID");TargetBar.style.width=n.TargetPercentage_Bar;$("#TargetSpanId").text(n.TargetPercentage);$("#TargetValueID").html("("+(n.TargetValue===""?"0.00 Cr":n.TargetValue.split(":")[1])+" Cr)");TargetAchievedBar=document.getElementById("ForecastBarID");TargetAchievedBar.style.width=n.ForeCastPercentage_Bar;$("#ForecastSpanId").text(n.ForeCastPercentage);$("#ForecastValueID").html("("+(n.ForeCastValue===""?"0.00 Cr":n.ForeCastValue.split(":")[1])+" Cr)");TargetBar=document.getElementById("AchievedBarID");TargetBar.style.width=n.AchievedPercentage_Bar;$("#AchievedSpanId").text(n.AchievedPercentage);$("#AchievedValueID").html("("+(n.AchievedValue===""?"0.00 Cr":n.AchievedValue.split(":")[1])+" Cr)");document.getElementById("TargetBarID").setAttribute("title",n.TargetValue);document.getElementById("AchievedBarID").setAttribute("title",n.AchievedValue);document.getElementById("ForecastBarID").setAttribute("title",n.ForeCastValue);IsCurrentFinYear?($("#ForecastBarID").show(),$("#ForecastTextID").show(),$("#ForecastValueID").show()):($("#ForecastBarID").hide(),$("#ForecastTextID").hide(),$("#ForecastValueID").hide())}function AnimateList(n,t,i){n.eq(t).animate({left:0,opacity:1},function(){AnimateList(n,t+1,i)})}function FadeLists(n,t){t>=n.length&&(t=0);var i=n.eq(t);i.fadeIn(2e3,function(){AnimateList(i.find("li"),0,function(){FadeLists(n,t+1)})})}function EXCELRevenueTargetVsAchieved(n,t,i){window.location.href="/Dashboard/Dashboard/EXCELRevenueTargetVsAchieved?toggleBtnId="+n+"&selectedType="+t+"&DistrictCode="+i+"&DistrictTextForExcel="+DistrictTextForExcel}function EXCELProgressCurrentVsPreviousFinYear(n,t,i){window.location.href="/Dashboard/Dashboard/EXCELProgressCurrentVsPreviousFinYear?toggleBtnId="+n+"&selectedType="+t+"&DistrictCode="+i+"&DistrictTextForExcel="+DistrictTextForExcel}function PopulateAvgRegTimeFun(){DistrictCode_=="0"?selectedType=="F"?$("#AvgRegTimeHeadingId").text("Average Registration time for Fin Year "+$("#FinYearListId option:selected").text()):selectedType=="M"?$("#AvgRegTimeHeadingId").text("Average Registration time for Current Month"):selectedType=="D"&&$("#AvgRegTimeHeadingId").text("Average Registration time as on today"):selectedType=="F"?$("#AvgRegTimeHeadingId").text("Average Registration time for Fin Year "+$("#FinYearListId option:selected").text()+" Fin Year"):selectedType=="M"?$("#AvgRegTimeHeadingId").text("Average Registration time for Current Month"):selectedType=="D"&&$("#AvgRegTimeHeadingId").text("Average Registration time as on today");blockUI("loading data.. please wait...");FinYear=$("#FinYearListId option:selected").val();$.ajax({type:"GET",url:"/Dashboard/Dashboard/PopulateAvgRegTime",data:{selectedType:selectedType,SelectedOffice:DistrictCode_,FinYearId:FinYear},success:function(n){n.success?fillAvgRegTime(n.TilesModel.Top3AvgRegTime,n.TilesModel.Bottom3AvgRegTime,n.TilesModel.AVG_REGISTRASTION_TIME_FYWISE):bootbox.alert({message:'<i class="fa fa-exclamation-triangle text-danger boot-icon boot-icon"><\/i><span class="boot-alert-txt">Error Occured while processing request <\/span>'});unBlockUI()},error:function(){bootbox.alert({message:'<i class="fa fa-exclamation-triangle text-danger boot-icon boot-icon"><\/i><span class="boot-alert-txt">Error in processing<\/span>'})}})}function fillAvgRegTime(n,t,i){$("#sectionAvgRegTimeTop").html(n);$("#sectionAvgRegTimeBottom").html(t);$("#OverAllRegTimeHeadingId").html(" : "+i+" Minutes")}function ProgressBarChartMonthWise(n){PopulateProgressChartMonthWise("2","1",selectedType,DistrictCode_,n)}function PopulateProgressChartMonthWise(n,t,i,r,u){blockUI("loading data.. please wait...");$.ajax({url:"/Dashboard/Dashboard/PopulateProgressChartMonthWise",type:"POST",data:{toggleBtnId:t,selectedType:i,DistrictCode:r,FinYear:u},success:function(n){t==1&&($("#dv_2_ProgressChart_Wrapper").remove(),$("#dv_1_CurrentVsPrevFinYr_Wrapper").html('<div id="dv_2_Graph"><div class="box-body chat" id="chat-box" style="width: auto;  overflow: hidden;"><div class="chart" style="border-radius:10px;"><canvas id="cnvsProgressBarChart" height="188"><\/canvas><\/div><\/div><\/div>'),PopulateProgressChartDataSetMonthWise(n),PopulatePregresschartMonthWise(n),$("#EXCELCurrentVsPrevFinYearSpanID").html(""));t==2&&($("#dv_2_Graph").remove(),$("#dv_1_CurrentVsPrevFinYr_Wrapper").html('<div id="dv_2_ProgressChart_Wrapper"><table id="tbl_2_PregressChart" class="table table-striped table-bordered table-condensed table-hover" style="text-align:center !important; vertical-align: middle;background-color: aliceblue; overflow: hidden; border: solid;width: 50%;"><\/table><\/div>'),FillDataTable(n.TableColumns,n.TableData,"tbl_2_PregressChart","dv_2_ProgressChart_Wrapper"),$("#dv_2_Table").show(),$("#dv_2_Graph").hide(),n.TableData.length!=undefined&&($("#EXCELCurrentVsPrevFinYearSpanID").html(""),$("#EXCELCurrentVsPrevFinYearSpanID").html(n.ExcelBtn)));unBlockUI()},error:function(n,t,i){bootbox.alert("Error occured while proccessing your request : "+i);unBlockUI()}})}function PopulateProgressChartDataSetMonthWise(n){CurrentVsPrevFinYrMonthsPopUp=n.BarChart.Months;Document_DataSet={label:n.BarChart.Lbl_Documents,data:n.BarChart.Documents,yAxisID:"y-axis-0",backgroundColor:"#3C8DBC",borderColor:"#3C8DBC",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:"rgba(75,192,192,1)",pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"rgba(75,192,192,1)",pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:2,pointRadius:5,pointHitRadius:10,fill:!1,type:"line"};Revenue_DataSet={label:n.BarChart.Lbl_Revenue,data:n.BarChart.Revenue,yAxisID:"y-axis-1",backgroundColor:["#E5E5E5","#E5E5E5","#E5E5E5","#E5E5E5","#E5E5E5","#E5E5E5","#E5E5E5","#E5E5E5","#E5E5E5","#E5E5E5","#E5E5E5","#E5E5E5"],borderColor:["rgba(10,20,30,1)","rgba(10,20,30,1)","rgba(10,20,30,1)","rgba(10,20,30,1)","rgba(10,20,30,1)","rgba(10,20,30,1)","rgba(10,20,30,1)","rgba(10,20,30,1)","rgba(10,20,30,1)","rgba(10,20,30,1)","rgba(10,20,30,1)","rgba(10,20,30,1)"],borderWidth:1}}function PopulatePregresschartMonthWise(n){var i=document.getElementById("cnvsProgressBarChart");t!=undefined&&t.destroy();var r={labels:n.BarChart.Months,datasets:[Document_DataSet,Revenue_DataSet]},u={responsive:!0,title:{display:!0,position:"top",fontSize:0,fontColor:"#111"},legend:{display:!0,position:"top",labels:{fontColor:"#333",fontSize:12},onClick:function(n,i){var r=i.datasetIndex;t.data.datasets[r].hidden=!t.data.datasets[r].hidden;t.options.scales.yAxes[r].display=!t.options.scales.yAxes[r].display;t.update()}},scales:{yAxes:[{stacked:!1,position:"left",id:"y-axis-0",type:"linear",ticks:{beginAtZero:!0},scaleLabel:{display:!0,labelString:"No of Documents"}},{stacked:!1,position:"right",id:"y-axis-1",type:"linear",ticks:{beginAtZero:!0},scaleLabel:{display:!0,labelString:"Revenue : Rupees in Crore"}}]},layout:{padding:{left:0,right:0,top:0,bottom:0}},onClick:function(n){var i=t.getElementsAtEvent(n);if(i[0]){var r=i[0]._chart.config.data,u=i[0]._index,f=r.labels[u];PopulateProgressChart("2","1",selectedType,DistrictCode_);IsMonthsProgressChartVisible=!1}}},t=new Chart(i,{type:"bar",data:r,options:u});unBlockUI()}function EXCELProgressCurrentVsPreviousMonths(n,t,i,r){window.location.href="/Dashboard/Dashboard/EXCELProgressCurrentVsPreviousMonths?toggleBtnId="+n+"&selectedType="+t+"&DistrictCode="+i+"&DistrictTextForExcel="+DistrictTextForExcel+"&FinYear="+r}var Target_DataSet,Achieved_DataSet,Document_DataSet,Revenue_DataSet,DistrictCode_,selectedType,DistrictText,DistrictTxt_,DistrictTextForExcel,FinYear,IsCurrentFinYear=!0,RevenueTargetVsAchievedFinYearsPopUp,IsMonthsProgressChartVisible,FinYearForProgressMonthsChart,CurrentVsPrevFinYrFinYearsPopUp,CurrentVsPrevFinYrMonthsPopUp,ProgressBarChartForModalPopup,RevenueTargetVsAchievedForModalPopup;$(document).ready(function(){$("#RevenueTargetVsAchievedPopUpId").on("shown.bs.modal",function(n){var r="",f,i;r=DistrictText==undefined?$("#spnOfficeDesc").text():DistrictText;$("#RevenueTargetVsAchievedPopUpTitleID").text("Revenue : Target Vs Achieved ("+r+")");var t=$(n.relatedTarget),c=t.attr("data-source").split(","),l=t.html(),e=t.parents("table"),u=[];$("#"+e.attr("id")+">thead>tr>th").each(function(n,t){n>0&&u.push($(t).html())});f=[];$.each(u,function(){f.push(t.attr("data-target-source"))});var o=$(this),s=o.find(".modal-body canvas"),h={labels:RevenueTargetVsAchievedFinYearsPopUp,datasets:[Target_DataSet,Achieved_DataSet]};window.RevenueTargetVsAchievedForModalPopup!=undefined&&window.RevenueTargetVsAchievedForModalPopup.destroy();RevenueTargetVsAchievedForModalPopup=Chart.Line(s,{data:h,options:{scales:{yAxes:[{scaleLabel:{display:!0,labelString:"Rupees in Crore"}}]}}});i=document.getElementById("canvasRevenueTargetVsAchievedPopUp");i.style.width="1100px";i.style.height="600px"}).on("hidden.bs.modal",function(){var n=$(this),t=n.find(".modal-body canvas");$(this).data("bs.modal",null)});$("#CurrentVsPrevFinYrPopUpId").on("shown.bs.modal",function(n){var u="",e,o,i,s,h,r;u=DistrictText==undefined?$("#spnOfficeDesc").text():DistrictText;$("#CurrentVsPrevFinYrPopUpTitleID").text("Progress : Current Vs Previous Fin. Years ("+u+")");var t=$(n.relatedTarget),l=t.attr("data-source").split(","),a=t.html(),c=t.parents("table"),f=[];$("#"+c.attr("id")+">thead>tr>th").each(function(n,t){n>0&&f.push($(t).html())});e=[];$.each(f,function(){e.push(t.attr("data-target-source"))});o=$(this);i=o.find(".modal-body canvas");i.clientHeight=2e3;s=IsMonthsProgressChartVisible?{labels:CurrentVsPrevFinYrMonthsPopUp,datasets:[Document_DataSet,Revenue_DataSet]}:{labels:CurrentVsPrevFinYrFinYearsPopUp,datasets:[Document_DataSet,Revenue_DataSet]};h={responsive:!0,title:{display:!0,position:"top",fontSize:0,fontColor:"#111"},legend:{display:!0,position:"top",labels:{fontColor:"#333",fontSize:12},onClick:function(n,t){var i=t.datasetIndex;ProgressBarChartForModalPopup.data.datasets[i].hidden=!ProgressBarChartForModalPopup.data.datasets[i].hidden;ProgressBarChartForModalPopup.options.scales.yAxes[i].display=!ProgressBarChartForModalPopup.options.scales.yAxes[i].display;ProgressBarChartForModalPopup.update()}},scales:{yAxes:[{stacked:!1,position:"left",id:"y-axis-0",type:"linear",ticks:{beginAtZero:!0},scaleLabel:{display:!0,labelString:"No of Documents"}},{stacked:!1,position:"right",id:"y-axis-1",type:"linear",ticks:{beginAtZero:!0},scaleLabel:{display:!0,labelString:"Revenue : Rupees in Crore"}}]},layout:{padding:{left:0,right:0,top:0,bottom:0}}};window.ProgressBarChartForModalPopup!=undefined&&window.ProgressBarChartForModalPopup.destroy();ProgressBarChartForModalPopup=new Chart(i,{type:"bar",data:s,options:h});r=document.getElementById("canvasCurrentVsPrevFinYrPopUp");r.style.width="1100px";r.style.height="600px"}).on("hidden.bs.modal",function(){var n=$(this),t=n.find(".modal-body canvas");$(this).data("bs.modal",null)});$("#FinYearListId").change(function(){IsCurrentFinYear=$("#FinYearListId option:selected").index()=="0"?!0:!1;PopulateTiles();PopulateAvgRegTimeFun()});$("#FinYearListId").show();DistrictCode_=FirstElemOfDistrictList;DistrictTxt_=FirstElemOfDistrictListTxt;DistrictTextForExcel=FirstElemOfDistrictListTxt;$("input:radio[name=rdoDBSummary][value=F]").trigger("click");selectedType=$('input[name="rdoDBSummary"]:checked').val();PopulateTiles();PopulateAvgRegTimeFun();$("input[type=radio][name=rdoDBSummary]").change(function(){selectedType=$('input[name="rdoDBSummary"]:checked').val();PopulateTiles();PopulateAvgRegTimeFun();DistrictCode_=="0"?selectedType=="F"?(IsCurrentFinYear=$("#FinYearListId option:selected").index()=="0"?!0:!1,$("#OfficeStartTimeId").text("Average office start time for "+$("#FinYearListId option:selected").text()+" Fin Year"),$("#TopAndBottomOfficesId").text("Top 3 and bottom 3 Districts in Revenue Collection (Target Vs Achieved) in "+$("#FinYearListId option:selected").text()+" Fin year"),$("#HighlightsId").text("State : "+$("#FinYearListId option:selected").text()+" Fin Year's Registration Highlights"),$("#FinYearListId").show()):selectedType=="M"?(IsCurrentFinYear=!0,$("#OfficeStartTimeId").text("Average office start time for Current Month"),$("#TopAndBottomOfficesId").text("Top 3 and bottom 3 Districts in Revenue Collection (Contribution Percentage) in Current Month"),$("#HighlightsId").text("State : Current Month's Registration Highlights"),$("#FinYearListId").hide()):selectedType=="D"&&(IsCurrentFinYear=!0,$("#OfficeStartTimeId").text("Office Start time Indications as on today"),$("#TopAndBottomOfficesId").text("Top 3 and bottom 3 Districts in Revenue Collection (Contribution Percentage) as on Today"),$("#HighlightsId").text("State : Today's Registration Highlights"),$("#FinYearListId").hide()):selectedType=="F"?(IsCurrentFinYear=$("#FinYearListId option:selected").index()=="0"?!0:!1,$("#OfficeStartTimeId").text("Average office start time for "+$("#FinYearListId option:selected").text()+" Fin Year"),$("#HighlightsId").text(DistrictText+" : "+$("#FinYearListId option:selected").text()+" Fin Years Registration Highlights"),$("#TopAndBottomOfficesId").text("Top 3 and bottom 3 SROs in Revenue Collection (Target Vs achieved) in "+$("#FinYearListId option:selected").text()+" Fin year"),$("#FinYearListId").show()):selectedType=="M"?(IsCurrentFinYear=!0,$("#OfficeStartTimeId").text("Average office start time for Current Month"),$("#HighlightsId").text(DistrictText+" : Current Month's Registration Highlights"),$("#TopAndBottomOfficesId").text("Top 3 and bottom 3 SROs in Revenue Collection (Contribution Percentage) in Current Month"),$("#FinYearListId").hide()):selectedType=="D"&&(IsCurrentFinYear=!0,$("#OfficeStartTimeId").text("Office start time indications as on Today"),$("#HighlightsId").text(DistrictText+" : Today's Registration Highlights"),$("#TopAndBottomOfficesId").text("Top 3 and bottom 3 SROs in Revenue Collection (Contribution Percentage) as on Today"),$("#FinYearListId").hide())});LoadAllCharts();$(".rdoToggleChartTable").change(function(){var t=$(this).val(),n=t.split("_");ToggleGraphAndTable(n[0],n[1])})});